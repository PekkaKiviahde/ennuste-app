/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/login/page";
exports.ids = ["app/login/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = import("pg");;

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Flogin%2Fpage&page=%2Flogin%2Fpage&appPaths=%2Flogin%2Fpage&pagePath=private-next-app-dir%2Flogin%2Fpage.tsx&appDir=%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Flogin%2Fpage&page=%2Flogin%2Fpage&appPaths=%2Flogin%2Fpage&pagePath=private-next-app-dir%2Flogin%2Fpage.tsx&appDir=%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'login',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/login/page.tsx */ \"(rsc)/./src/app/login/page.tsx\")), \"/app/apps/web/src/app/login/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/app/apps/web/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/app/apps/web/src/app/login/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/login/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/login/page\",\n        pathname: \"/login\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZsb2dpbiUyRnBhZ2UmcGFnZT0lMkZsb2dpbiUyRnBhZ2UmYXBwUGF0aHM9JTJGbG9naW4lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGbG9naW4lMkZwYWdlLnRzeCZhcHBEaXI9JTJGYXBwJTJGYXBwcyUyRndlYiUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGYXBwJTJGYXBwcyUyRndlYiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsNEpBQXlFO0FBQ2hHO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLG9KQUFxRTtBQUM5RixvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLz9jNDcyIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJ2xvZ2luJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9zcmMvYXBwL2xvZ2luL3BhZ2UudHN4XCIpLCBcIi9hcHAvYXBwcy93ZWIvc3JjL2FwcC9sb2dpbi9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9zcmMvYXBwL2xheW91dC50c3hcIiksIFwiL2FwcC9hcHBzL3dlYi9zcmMvYXBwL2xheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIi9hcHAvYXBwcy93ZWIvc3JjL2FwcC9sb2dpbi9wYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2xvZ2luL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvbG9naW4vcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvbG9naW5cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIixcbiAgICAgICAgYXBwUGF0aHM6IFtdXG4gICAgfSxcbiAgICB1c2VybGFuZDoge1xuICAgICAgICBsb2FkZXJUcmVlOiB0cmVlXG4gICAgfVxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1wYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Flogin%2Fpage&page=%2Flogin%2Fpage&appPaths=%2Flogin%2Fpage&pagePath=private-next-app-dir%2Flogin%2Fpage.tsx&appDir=%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fserver%2Factions%2Fauth.ts%22%2C%5B%22%24%24ACTION_2%22%2C%22%24%24ACTION_1%22%2C%22quickRoleLoginAction%22%2C%22logoutAction%22%2C%22%24%24ACTION_0%22%2C%22loginAction%22%5D%5D%5D&__client_imported__=!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fserver%2Factions%2Fauth.ts%22%2C%5B%22%24%24ACTION_2%22%2C%22%24%24ACTION_1%22%2C%22quickRoleLoginAction%22%2C%22logoutAction%22%2C%22%24%24ACTION_0%22%2C%22loginAction%22%5D%5D%5D&__client_imported__=! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst actions = {\n'196a66ef491dad09dee879906394684934d945c1': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"$$ACTION_2\"]),\n'1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"$$ACTION_1\"]),\n'a3e2cbdcbdca362141b4d46f985519a0048e7c05': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"quickRoleLoginAction\"]),\n'a72cbf768f1d7ad1248abc0a52287078a1d7bc66': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"logoutAction\"]),\n'f8335a975e93f08614a20135d52784df19510f73': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"$$ACTION_0\"]),\n'ff8e7b96dd36e50d28adae0032cf693a356d9374': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/server/actions/auth.ts */ \"(rsc)/./src/server/actions/auth.ts\")).then(mod => mod[\"loginAction\"]),\n}\n\nasync function endpoint(id, ...args) {\n  const action = await actions[id]()\n  return action.apply(null, args)\n}\n\n// Using CJS to avoid this to be tree-shaken away due to unused exports.\nmodule.exports = {\n  '196a66ef491dad09dee879906394684934d945c1': endpoint.bind(null, '196a66ef491dad09dee879906394684934d945c1'),\n  '1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3': endpoint.bind(null, '1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3'),\n  'a3e2cbdcbdca362141b4d46f985519a0048e7c05': endpoint.bind(null, 'a3e2cbdcbdca362141b4d46f985519a0048e7c05'),\n  'a72cbf768f1d7ad1248abc0a52287078a1d7bc66': endpoint.bind(null, 'a72cbf768f1d7ad1248abc0a52287078a1d7bc66'),\n  'f8335a975e93f08614a20135d52784df19510f73': endpoint.bind(null, 'f8335a975e93f08614a20135d52784df19510f73'),\n  'ff8e7b96dd36e50d28adae0032cf693a356d9374': endpoint.bind(null, 'ff8e7b96dd36e50d28adae0032cf693a356d9374'),\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1hY3Rpb24tZW50cnktbG9hZGVyLmpzP2FjdGlvbnM9JTVCJTVCJTIyJTJGYXBwJTJGYXBwcyUyRndlYiUyRnNyYyUyRnNlcnZlciUyRmFjdGlvbnMlMkZhdXRoLnRzJTIyJTJDJTVCJTIyJTI0JTI0QUNUSU9OXzIlMjIlMkMlMjIlMjQlMjRBQ1RJT05fMSUyMiUyQyUyMnF1aWNrUm9sZUxvZ2luQWN0aW9uJTIyJTJDJTIybG9nb3V0QWN0aW9uJTIyJTJDJTIyJTI0JTI0QUNUSU9OXzAlMjIlMkMlMjJsb2dpbkFjdGlvbiUyMiU1RCU1RCU1RCZfX2NsaWVudF9pbXBvcnRlZF9fPSEiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0Esa0RBQWtELG9LQUE2RTtBQUMvSCxrREFBa0Qsb0tBQTZFO0FBQy9ILGtEQUFrRCxvS0FBNkU7QUFDL0gsa0RBQWtELG9LQUE2RTtBQUMvSCxrREFBa0Qsb0tBQTZFO0FBQy9ILGtEQUFrRCxvS0FBNkU7QUFDL0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLz9iZjlkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgYWN0aW9ucyA9IHtcbicxOTZhNjZlZjQ5MWRhZDA5ZGVlODc5OTA2Mzk0Njg0OTM0ZDk0NWMxJzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvYXBwL2FwcHMvd2ViL3NyYy9zZXJ2ZXIvYWN0aW9ucy9hdXRoLnRzXCIpLnRoZW4obW9kID0+IG1vZFtcIiQkQUNUSU9OXzJcIl0pLFxuJzFmMTM5YzJiY2YwZmRjZTY1M2E2ZmE5NGJiOWQ4ODVjMDcyZDViYjMnOiAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9hcHAvYXBwcy93ZWIvc3JjL3NlcnZlci9hY3Rpb25zL2F1dGgudHNcIikudGhlbihtb2QgPT4gbW9kW1wiJCRBQ1RJT05fMVwiXSksXG4nYTNlMmNiZGNiZGNhMzYyMTQxYjRkNDZmOTg1NTE5YTAwNDhlN2MwNSc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9zcmMvc2VydmVyL2FjdGlvbnMvYXV0aC50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJxdWlja1JvbGVMb2dpbkFjdGlvblwiXSksXG4nYTcyY2JmNzY4ZjFkN2FkMTI0OGFiYzBhNTIyODcwNzhhMWQ3YmM2Nic6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9zcmMvc2VydmVyL2FjdGlvbnMvYXV0aC50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJsb2dvdXRBY3Rpb25cIl0pLFxuJ2Y4MzM1YTk3NWU5M2YwODYxNGEyMDEzNWQ1Mjc4NGRmMTk1MTBmNzMnOiAoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9hcHAvYXBwcy93ZWIvc3JjL3NlcnZlci9hY3Rpb25zL2F1dGgudHNcIikudGhlbihtb2QgPT4gbW9kW1wiJCRBQ1RJT05fMFwiXSksXG4nZmY4ZTdiOTZkZDM2ZTUwZDI4YWRhZTAwMzJjZjY5M2EzNTZkOTM3NCc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9zcmMvc2VydmVyL2FjdGlvbnMvYXV0aC50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJsb2dpbkFjdGlvblwiXSksXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuZHBvaW50KGlkLCAuLi5hcmdzKSB7XG4gIGNvbnN0IGFjdGlvbiA9IGF3YWl0IGFjdGlvbnNbaWRdKClcbiAgcmV0dXJuIGFjdGlvbi5hcHBseShudWxsLCBhcmdzKVxufVxuXG4vLyBVc2luZyBDSlMgdG8gYXZvaWQgdGhpcyB0byBiZSB0cmVlLXNoYWtlbiBhd2F5IGR1ZSB0byB1bnVzZWQgZXhwb3J0cy5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAnMTk2YTY2ZWY0OTFkYWQwOWRlZTg3OTkwNjM5NDY4NDkzNGQ5NDVjMSc6IGVuZHBvaW50LmJpbmQobnVsbCwgJzE5NmE2NmVmNDkxZGFkMDlkZWU4Nzk5MDYzOTQ2ODQ5MzRkOTQ1YzEnKSxcbiAgJzFmMTM5YzJiY2YwZmRjZTY1M2E2ZmE5NGJiOWQ4ODVjMDcyZDViYjMnOiBlbmRwb2ludC5iaW5kKG51bGwsICcxZjEzOWMyYmNmMGZkY2U2NTNhNmZhOTRiYjlkODg1YzA3MmQ1YmIzJyksXG4gICdhM2UyY2JkY2JkY2EzNjIxNDFiNGQ0NmY5ODU1MTlhMDA0OGU3YzA1JzogZW5kcG9pbnQuYmluZChudWxsLCAnYTNlMmNiZGNiZGNhMzYyMTQxYjRkNDZmOTg1NTE5YTAwNDhlN2MwNScpLFxuICAnYTcyY2JmNzY4ZjFkN2FkMTI0OGFiYzBhNTIyODcwNzhhMWQ3YmM2Nic6IGVuZHBvaW50LmJpbmQobnVsbCwgJ2E3MmNiZjc2OGYxZDdhZDEyNDhhYmMwYTUyMjg3MDc4YTFkN2JjNjYnKSxcbiAgJ2Y4MzM1YTk3NWU5M2YwODYxNGEyMDEzNWQ1Mjc4NGRmMTk1MTBmNzMnOiBlbmRwb2ludC5iaW5kKG51bGwsICdmODMzNWE5NzVlOTNmMDg2MTRhMjAxMzVkNTI3ODRkZjE5NTEwZjczJyksXG4gICdmZjhlN2I5NmRkMzZlNTBkMjhhZGFlMDAzMmNmNjkzYTM1NmQ5Mzc0JzogZW5kcG9pbnQuYmluZChudWxsLCAnZmY4ZTdiOTZkZDM2ZTUwZDI4YWRhZTAwMzJjZjY5M2EzNTZkOTM3NCcpLFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fserver%2Factions%2Fauth.ts%22%2C%5B%22%24%24ACTION_2%22%2C%22%24%24ACTION_1%22%2C%22quickRoleLoginAction%22%2C%22logoutAction%22%2C%22%24%24ACTION_0%22%2C%22loginAction%22%5D%5D%5D&__client_imported__=!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmFwcCUyRmFwcHMlMkZ3ZWIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmFwcCUyRmFwcHMlMkZ3ZWIlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZhcHAlMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGYXBwJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmxheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGYXBwJTJGYXBwcyUyRndlYiUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZhcHAlMkZhcHBzJTJGd2ViJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXlHO0FBQ3pHO0FBQ0Esb09BQTBHO0FBQzFHO0FBQ0EsME9BQTZHO0FBQzdHO0FBQ0Esd09BQTRHO0FBQzVHO0FBQ0Esa1BBQWlIO0FBQ2pIO0FBQ0Esc1FBQTJIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLz85MDgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9hcHAvYXBwcy93ZWIvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvYXBwL2FwcHMvd2ViL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL2FwcC9hcHBzL3dlYi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL3JlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanNcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp%2Flogin%2Fquick-panel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp%2Flogin%2Fquick-panel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/login/quick-panel.tsx */ \"(ssr)/./src/app/login/quick-panel.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmFwcCUyRmFwcHMlMkZ3ZWIlMkZzcmMlMkZhcHAlMkZsb2dpbiUyRnF1aWNrLXBhbmVsLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLDBLQUE2RyIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8/OGRmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvYXBwL2FwcHMvd2ViL3NyYy9hcHAvbG9naW4vcXVpY2stcGFuZWwudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp%2Flogin%2Fquick-panel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/login/quick-panel.tsx":
/*!***************************************!*\
  !*** ./src/app/login/quick-panel.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginQuickPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _server_actions_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../server/actions/auth */ \"(ssr)/./src/server/actions/auth.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst demoRoles = [\n    {\n        label: \"Tyonjohtaja\",\n        username: \"site.foreman\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Vastaava mestari\",\n        username: \"general.foreman\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Tyopaallikko\",\n        username: \"project.manager\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Tuotantojohtaja\",\n        username: \"production.manager\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Hankinta\",\n        username: \"procurement\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Johto (luku)\",\n        username: \"exec.readonly\",\n        pin: \"1234\"\n    },\n    {\n        label: \"Organisaatio-admin\",\n        username: \"org.admin\",\n        pin: \"1234\"\n    }\n];\nconst isTextInput = (element)=>{\n    return element instanceof HTMLInputElement || element instanceof HTMLTextAreaElement;\n};\nfunction LoginQuickPanel({ enabled }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!enabled) {\n            return;\n        }\n        const handler = (event)=>{\n            if (isTextInput(document.activeElement)) {\n                return;\n            }\n            const index = Number(event.key) - 1;\n            if (Number.isNaN(index) || index < 0) {\n                return;\n            }\n            const isShift = event.shiftKey;\n            const offset = isShift ? 9 : 0;\n            const roleIndex = index + offset;\n            const role = demoRoles[roleIndex];\n            if (!role) {\n                return;\n            }\n            const button = document.querySelector(`[data-role-index=\"${roleIndex}\"]`);\n            button?.click();\n        };\n        window.addEventListener(\"keydown\", handler);\n        return ()=>window.removeEventListener(\"keydown\", handler);\n    }, [\n        enabled\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"card\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                children: \"Demo-roolit\"\n            }, void 0, false, {\n                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"Valitse rooli napilla tai pikanappaimella. Toimii vain demo-tilassa.\"\n            }, void 0, false, {\n                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid\",\n                children: demoRoles.map((role, index)=>{\n                    const keyNumber = index + 1;\n                    const hint = keyNumber <= 9 ? `[${keyNumber}]` : `[Shift+${keyNumber - 9}]`;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        action: _server_actions_auth__WEBPACK_IMPORTED_MODULE_2__.quickRoleLoginAction,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"hidden\",\n                                name: \"username\",\n                                value: role.username\n                            }, void 0, false, {\n                                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"hidden\",\n                                name: \"pin\",\n                                value: role.pin\n                            }, void 0, false, {\n                                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                                lineNumber: 60,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn btn-secondary\",\n                                type: \"submit\",\n                                \"data-role-index\": index,\n                                disabled: !enabled,\n                                children: [\n                                    hint,\n                                    \" \",\n                                    role.label\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                                lineNumber: 61,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, role.username, true, {\n                        fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                lineNumber: 53,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"notice\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: \"Pikanappaimet:\"\n                    }, void 0, false, {\n                        fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 9\n                    }, this),\n                    \" 1-9 ensimmaisille rooleille. Jos rooleja on yli 9, kayta Shift+1-9.\"\n                ]\n            }, void 0, true, {\n                fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n                lineNumber: 74,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/app/apps/web/src/app/login/quick-panel.tsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Yy9hcHAvbG9naW4vcXVpY2stcGFuZWwudHN4P2M4MmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcXVpY2tSb2xlTG9naW5BY3Rpb24gfSBmcm9tIFwiLi4vLi4vc2VydmVyL2FjdGlvbnMvYXV0aFwiO1xuXG5jb25zdCBkZW1vUm9sZXMgPSBbXG4gIHsgbGFiZWw6IFwiVHlvbmpvaHRhamFcIiwgdXNlcm5hbWU6IFwic2l0ZS5mb3JlbWFuXCIsIHBpbjogXCIxMjM0XCIgfSxcbiAgeyBsYWJlbDogXCJWYXN0YWF2YSBtZXN0YXJpXCIsIHVzZXJuYW1lOiBcImdlbmVyYWwuZm9yZW1hblwiLCBwaW46IFwiMTIzNFwiIH0sXG4gIHsgbGFiZWw6IFwiVHlvcGFhbGxpa2tvXCIsIHVzZXJuYW1lOiBcInByb2plY3QubWFuYWdlclwiLCBwaW46IFwiMTIzNFwiIH0sXG4gIHsgbGFiZWw6IFwiVHVvdGFudG9qb2h0YWphXCIsIHVzZXJuYW1lOiBcInByb2R1Y3Rpb24ubWFuYWdlclwiLCBwaW46IFwiMTIzNFwiIH0sXG4gIHsgbGFiZWw6IFwiSGFua2ludGFcIiwgdXNlcm5hbWU6IFwicHJvY3VyZW1lbnRcIiwgcGluOiBcIjEyMzRcIiB9LFxuICB7IGxhYmVsOiBcIkpvaHRvIChsdWt1KVwiLCB1c2VybmFtZTogXCJleGVjLnJlYWRvbmx5XCIsIHBpbjogXCIxMjM0XCIgfSxcbiAgeyBsYWJlbDogXCJPcmdhbmlzYWF0aW8tYWRtaW5cIiwgdXNlcm5hbWU6IFwib3JnLmFkbWluXCIsIHBpbjogXCIxMjM0XCIgfVxuXTtcblxuY29uc3QgaXNUZXh0SW5wdXQgPSAoZWxlbWVudDogRWxlbWVudCB8IG51bGwpID0+IHtcbiAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9naW5RdWlja1BhbmVsKHsgZW5hYmxlZCB9OiB7IGVuYWJsZWQ6IGJvb2xlYW4gfSkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVyID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoaXNUZXh0SW5wdXQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZlbnQua2V5KSAtIDE7XG4gICAgICBpZiAoTnVtYmVyLmlzTmFOKGluZGV4KSB8fCBpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXNTaGlmdCA9IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gaXNTaGlmdCA/IDkgOiAwO1xuICAgICAgY29uc3Qgcm9sZUluZGV4ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgICBjb25zdCByb2xlID0gZGVtb1JvbGVzW3JvbGVJbmRleF07XG4gICAgICBpZiAoIXJvbGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oYFtkYXRhLXJvbGUtaW5kZXg9XCIke3JvbGVJbmRleH1cIl1gKTtcbiAgICAgIGJ1dHRvbj8uY2xpY2soKTtcbiAgICB9O1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlcik7XG4gIH0sIFtlbmFibGVkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICA8aDI+RGVtby1yb29saXQ8L2gyPlxuICAgICAgPHA+VmFsaXRzZSByb29saSBuYXBpbGxhIHRhaSBwaWthbmFwcGFpbWVsbGEuIFRvaW1paSB2YWluIGRlbW8tdGlsYXNzYS48L3A+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZFwiPlxuICAgICAgICB7ZGVtb1JvbGVzLm1hcCgocm9sZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBrZXlOdW1iZXIgPSBpbmRleCArIDE7XG4gICAgICAgICAgY29uc3QgaGludCA9IGtleU51bWJlciA8PSA5ID8gYFske2tleU51bWJlcn1dYCA6IGBbU2hpZnQrJHtrZXlOdW1iZXIgLSA5fV1gO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Zm9ybSBrZXk9e3JvbGUudXNlcm5hbWV9IGFjdGlvbj17cXVpY2tSb2xlTG9naW5BY3Rpb259PlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJ1c2VybmFtZVwiIHZhbHVlPXtyb2xlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwaW5cIiB2YWx1ZT17cm9sZS5waW59IC8+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgICAgZGF0YS1yb2xlLWluZGV4PXtpbmRleH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWVuYWJsZWR9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aGludH0ge3JvbGUubGFiZWx9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibm90aWNlXCI+XG4gICAgICAgIDxzdHJvbmc+UGlrYW5hcHBhaW1ldDo8L3N0cm9uZz4gMS05IGVuc2ltbWFpc2lsbGUgcm9vbGVpbGxlLiBKb3Mgcm9vbGVqYSBvbiB5bGkgOSwga2F5dGEgU2hpZnQrMS05LlxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInF1aWNrUm9sZUxvZ2luQWN0aW9uIiwiZGVtb1JvbGVzIiwibGFiZWwiLCJ1c2VybmFtZSIsInBpbiIsImlzVGV4dElucHV0IiwiZWxlbWVudCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJIVE1MVGV4dEFyZWFFbGVtZW50IiwiTG9naW5RdWlja1BhbmVsIiwiZW5hYmxlZCIsImhhbmRsZXIiLCJldmVudCIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImluZGV4IiwiTnVtYmVyIiwia2V5IiwiaXNOYU4iLCJpc1NoaWZ0Iiwic2hpZnRLZXkiLCJvZmZzZXQiLCJyb2xlSW5kZXgiLCJyb2xlIiwiYnV0dG9uIiwicXVlcnlTZWxlY3RvciIsImNsaWNrIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZWN0aW9uIiwiY2xhc3NOYW1lIiwiaDIiLCJwIiwiZGl2IiwibWFwIiwia2V5TnVtYmVyIiwiaGludCIsImZvcm0iLCJhY3Rpb24iLCJpbnB1dCIsInR5cGUiLCJuYW1lIiwidmFsdWUiLCJkYXRhLXJvbGUtaW5kZXgiLCJkaXNhYmxlZCIsInN0cm9uZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/login/quick-panel.tsx\n");

/***/ }),

/***/ "(ssr)/./src/server/actions/auth.ts":
/*!************************************!*\
  !*** ./src/server/actions/auth.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   loginAction: () => (/* binding */ loginAction),
/* harmony export */   logoutAction: () => (/* binding */ logoutAction),
/* harmony export */   quickRoleLoginAction: () => (/* binding */ quickRoleLoginAction)
/* harmony export */ });
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/client/app-call-server */ "(ssr)/./node_modules/next/dist/client/app-call-server.js");
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js");



function __build_action__(action, args) {
  return (0,next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__.callServer)(action.$$id, args)
}

/* __next_internal_action_entry_do_not_use__ {"196a66ef491dad09dee879906394684934d945c1":"$$ACTION_2","1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3":"$$ACTION_1","a3e2cbdcbdca362141b4d46f985519a0048e7c05":"quickRoleLoginAction","a72cbf768f1d7ad1248abc0a52287078a1d7bc66":"logoutAction","f8335a975e93f08614a20135d52784df19510f73":"$$ACTION_0","ff8e7b96dd36e50d28adae0032cf693a356d9374":"loginAction"} */ var quickRoleLoginAction = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("a3e2cbdcbdca362141b4d46f985519a0048e7c05");

var loginAction = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("ff8e7b96dd36e50d28adae0032cf693a356d9374");
var logoutAction = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("a72cbf768f1d7ad1248abc0a52287078a1d7bc66");



/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"69ad1527f6c0\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4vc3JjL2FwcC9nbG9iYWxzLmNzcz83NWY2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNjlhZDE1MjdmNmMwXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\nconst metadata = {\n    title: \"Ennuste MVP\",\n    description: \"Ennuste SaaS MVP\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"fi\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"app-shell\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/app/apps/web/src/app/layout.tsx\",\n                lineNumber: 13,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/apps/web/src/app/layout.tsx\",\n            lineNumber: 12,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/apps/web/src/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVCO0FBR2hCLE1BQU1BLFdBQVc7SUFDdEJDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7a0JBQ1QsNEVBQUNDO3NCQUNDLDRFQUFDQztnQkFBSUMsV0FBVTswQkFDWkw7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uL3NyYy9hcHAvbGF5b3V0LnRzeD81N2E5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcbmltcG9ydCB0eXBlIHsgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiRW5udXN0ZSBNVlBcIixcbiAgZGVzY3JpcHRpb246IFwiRW5udXN0ZSBTYWFTIE1WUFwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSb290TGF5b3V0KHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbCBsYW5nPVwiZmlcIj5cbiAgICAgIDxib2R5PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFwcC1zaGVsbFwiPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSIsImRpdiIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/login/page.tsx":
/*!********************************!*\
  !*** ./src/app/login/page.tsx ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _server_actions_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../server/actions/auth */ \"(rsc)/./src/server/actions/auth.ts\");\n/* harmony import */ var _quick_panel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./quick-panel */ \"(rsc)/./src/app/login/quick-panel.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_server_actions_auth__WEBPACK_IMPORTED_MODULE_1__]);\n_server_actions_auth__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction LoginPage() {\n    const isDemo = process.env.DEMO_MODE === \"true\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"grid grid-2\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                    className: \"card\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            children: \"Ennuste MVP\"\n                        }, void 0, false, {\n                            fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                            lineNumber: 10,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Kirjaudu sisaan ja valitse rooli. Demo-tilassa saat pikanappaimet.\"\n                        }, void 0, false, {\n                            fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                            lineNumber: 11,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            className: \"form-grid\",\n                            action: _server_actions_auth__WEBPACK_IMPORTED_MODULE_1__.loginAction,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"label\",\n                                    htmlFor: \"username\",\n                                    children: \"Kayttajatunnus\"\n                                }, void 0, false, {\n                                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                                    lineNumber: 13,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"input\",\n                                    id: \"username\",\n                                    name: \"username\",\n                                    placeholder: \"etunimi.sukunimi\"\n                                }, void 0, false, {\n                                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                                    lineNumber: 14,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"label\",\n                                    htmlFor: \"pin\",\n                                    children: \"PIN\"\n                                }, void 0, false, {\n                                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                                    lineNumber: 16,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"input\",\n                                    id: \"pin\",\n                                    name: \"pin\",\n                                    type: \"password\",\n                                    placeholder: \"****\"\n                                }, void 0, false, {\n                                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                                    lineNumber: 17,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"btn btn-primary\",\n                                    type: \"submit\",\n                                    children: \"Kirjaudu\"\n                                }, void 0, false, {\n                                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                                    lineNumber: 19,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                            lineNumber: 12,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                    lineNumber: 9,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_quick_panel__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    enabled: isDemo\n                }, void 0, false, {\n                    fileName: \"/app/apps/web/src/app/login/page.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/app/apps/web/src/app/login/page.tsx\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/apps/web/src/app/login/page.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xvZ2luL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF3RDtBQUNaO0FBRTdCLFNBQVNFO0lBQ3RCLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxLQUFLO0lBQ3pDLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0M7b0JBQVFELFdBQVU7O3NDQUNqQiw4REFBQ0U7c0NBQUc7Ozs7OztzQ0FDSiw4REFBQ0M7c0NBQUU7Ozs7OztzQ0FDSCw4REFBQ0M7NEJBQUtKLFdBQVU7NEJBQVlLLFFBQVFiLDZEQUFXQTs7OENBQzdDLDhEQUFDYztvQ0FBTU4sV0FBVTtvQ0FBUU8sU0FBUTs4Q0FBVzs7Ozs7OzhDQUM1Qyw4REFBQ0M7b0NBQU1SLFdBQVU7b0NBQVFTLElBQUc7b0NBQVdDLE1BQUs7b0NBQVdDLGFBQVk7Ozs7Ozs4Q0FFbkUsOERBQUNMO29DQUFNTixXQUFVO29DQUFRTyxTQUFROzhDQUFNOzs7Ozs7OENBQ3ZDLDhEQUFDQztvQ0FBTVIsV0FBVTtvQ0FBUVMsSUFBRztvQ0FBTUMsTUFBSztvQ0FBTUUsTUFBSztvQ0FBV0QsYUFBWTs7Ozs7OzhDQUV6RSw4REFBQ0U7b0NBQU9iLFdBQVU7b0NBQWtCWSxNQUFLOzhDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBR3RELDhEQUFDbkIsb0RBQWVBO29CQUFDcUIsU0FBU25COzs7Ozs7Ozs7Ozs7Ozs7OztBQUlsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uL3NyYy9hcHAvbG9naW4vcGFnZS50c3g/ZmM2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dpbkFjdGlvbiB9IGZyb20gXCIuLi8uLi9zZXJ2ZXIvYWN0aW9ucy9hdXRoXCI7XG5pbXBvcnQgTG9naW5RdWlja1BhbmVsIGZyb20gXCIuL3F1aWNrLXBhbmVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExvZ2luUGFnZSgpIHtcbiAgY29uc3QgaXNEZW1vID0gcHJvY2Vzcy5lbnYuREVNT19NT0RFID09PSBcInRydWVcIjtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtMlwiPlxuICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgPGgxPkVubnVzdGUgTVZQPC9oMT5cbiAgICAgICAgICA8cD5LaXJqYXVkdSBzaXNhYW4gamEgdmFsaXRzZSByb29saS4gRGVtby10aWxhc3NhIHNhYXQgcGlrYW5hcHBhaW1ldC48L3A+XG4gICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiZm9ybS1ncmlkXCIgYWN0aW9uPXtsb2dpbkFjdGlvbn0+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibGFiZWxcIiBodG1sRm9yPVwidXNlcm5hbWVcIj5LYXl0dGFqYXR1bm51czwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXRcIiBpZD1cInVzZXJuYW1lXCIgbmFtZT1cInVzZXJuYW1lXCIgcGxhY2Vob2xkZXI9XCJldHVuaW1pLnN1a3VuaW1pXCIgLz5cblxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImxhYmVsXCIgaHRtbEZvcj1cInBpblwiPlBJTjwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXRcIiBpZD1cInBpblwiIG5hbWU9XCJwaW5cIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIioqKipcIiAvPlxuXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiIHR5cGU9XCJzdWJtaXRcIj5LaXJqYXVkdTwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICA8TG9naW5RdWlja1BhbmVsIGVuYWJsZWQ9e2lzRGVtb30gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbImxvZ2luQWN0aW9uIiwiTG9naW5RdWlja1BhbmVsIiwiTG9naW5QYWdlIiwiaXNEZW1vIiwicHJvY2VzcyIsImVudiIsIkRFTU9fTU9ERSIsImRpdiIsImNsYXNzTmFtZSIsInNlY3Rpb24iLCJoMSIsInAiLCJmb3JtIiwiYWN0aW9uIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsIm5hbWUiLCJwbGFjZWhvbGRlciIsInR5cGUiLCJidXR0b24iLCJlbmFibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/login/page.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/login/quick-panel.tsx":
/*!***************************************!*\
  !*** ./src/app/login/quick-panel.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/app/apps/web/src/app/login/quick-panel.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/server/actions/auth.ts":
/*!************************************!*\
  !*** ./src/server/actions/auth.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $$ACTION_0: () => (/* binding */ $$ACTION_0),\n/* harmony export */   $$ACTION_1: () => (/* binding */ $$ACTION_1),\n/* harmony export */   $$ACTION_2: () => (/* binding */ $$ACTION_2),\n/* harmony export */   loginAction: () => (/* binding */ loginAction),\n/* harmony export */   logoutAction: () => (/* binding */ logoutAction),\n/* harmony export */   quickRoleLoginAction: () => (/* binding */ quickRoleLoginAction)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(rsc)/./node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ennuste_application__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ennuste/application */ \"(rsc)/../../packages/application/src/index.ts\");\n/* harmony import */ var _services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services */ \"(rsc)/./src/server/services.ts\");\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../session */ \"(rsc)/./src/server/session.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/navigation */ \"(rsc)/./node_modules/next/dist/api/navigation.react-server.js\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_services__WEBPACK_IMPORTED_MODULE_3__]);\n_services__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/* __next_internal_action_entry_do_not_use__ {\"196a66ef491dad09dee879906394684934d945c1\":\"$$ACTION_2\",\"1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3\":\"$$ACTION_1\",\"a3e2cbdcbdca362141b4d46f985519a0048e7c05\":\"quickRoleLoginAction\",\"a72cbf768f1d7ad1248abc0a52287078a1d7bc66\":\"logoutAction\",\"f8335a975e93f08614a20135d52784df19510f73\":\"$$ACTION_0\",\"ff8e7b96dd36e50d28adae0032cf693a356d9374\":\"loginAction\"} */ \n\n\n\n\n\nconst loginAction = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"f8335a975e93f08614a20135d52784df19510f73\", $$ACTION_0);\nasync function $$ACTION_0(formData) {\n    const username = String(formData.get(\"username\") ?? \"\").trim();\n    const pin = String(formData.get(\"pin\") ?? \"\").trim();\n    const projectId = formData.get(\"projectId\") ? String(formData.get(\"projectId\")) : undefined;\n    const services = (0,_services__WEBPACK_IMPORTED_MODULE_3__.createServices)();\n    const result = await (0,_ennuste_application__WEBPACK_IMPORTED_MODULE_2__.login)(services, {\n        username,\n        pin,\n        projectId\n    });\n    (0,_session__WEBPACK_IMPORTED_MODULE_4__.setSessionCookie)(result.session);\n    (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.redirect)(\"/ylataso\");\n}\nconst logoutAction = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"1f139c2bcf0fdce653a6fa94bb9d885c072d5bb3\", $$ACTION_1);\nasync function $$ACTION_1() {\n    (0,_session__WEBPACK_IMPORTED_MODULE_4__.clearSessionCookie)();\n    (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.redirect)(\"/login\");\n}\nconst quickRoleLoginAction = (0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"196a66ef491dad09dee879906394684934d945c1\", $$ACTION_2);\nasync function $$ACTION_2(formData) {\n    const isDemo = process.env.DEMO_MODE === \"true\";\n    (0,_ennuste_application__WEBPACK_IMPORTED_MODULE_2__.ensureDemoRoleSwitchAllowed)(isDemo);\n    const username = String(formData.get(\"username\") ?? \"\");\n    const pin = String(formData.get(\"pin\") ?? \"\");\n    const projectId = formData.get(\"projectId\") ? String(formData.get(\"projectId\")) : undefined;\n    const services = (0,_services__WEBPACK_IMPORTED_MODULE_3__.createServices)();\n    const result = await (0,_ennuste_application__WEBPACK_IMPORTED_MODULE_2__.login)(services, {\n        username,\n        pin,\n        projectId\n    });\n    (0,_session__WEBPACK_IMPORTED_MODULE_4__.setSessionCookie)(result.session);\n    await services.audit.recordEvent({\n        projectId: result.session.projectId,\n        actor: result.session.username,\n        action: \"auth.quick_login\",\n        payload: {\n            role: username\n        }\n    });\n    (0,next_navigation__WEBPACK_IMPORTED_MODULE_5__.redirect)(\"/ylataso\");\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_6__.ensureServerEntryExports)([\n    loginAction,\n    logoutAction,\n    quickRoleLoginAction\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"ff8e7b96dd36e50d28adae0032cf693a356d9374\", loginAction);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"a72cbf768f1d7ad1248abc0a52287078a1d7bc66\", logoutAction);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"a3e2cbdcbdca362141b4d46f985519a0048e7c05\", quickRoleLoginAction);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL2FjdGlvbnMvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRTBFO0FBQzdCO0FBQ3FCO0FBQ3ZCO0FBRXBDLE1BQU1NLGNBQWNBLDBGQUFBQSx5REFTekI7MEJBVGdDQztJQUNoQyxNQUFNQyxXQUFXQyxPQUFPRixTQUFTRyxHQUFHLENBQUMsZUFBZSxJQUFJQyxJQUFJO0lBQzVELE1BQU1DLE1BQU1ILE9BQU9GLFNBQVNHLEdBQUcsQ0FBQyxVQUFVLElBQUlDLElBQUk7SUFDbEQsTUFBTUUsWUFBWU4sU0FBU0csR0FBRyxDQUFDLGVBQWVELE9BQU9GLFNBQVNHLEdBQUcsQ0FBQyxnQkFBZ0JJO0lBRWxGLE1BQU1DLFdBQVdiLHlEQUFjQTtJQUMvQixNQUFNYyxTQUFTLE1BQU1oQiwyREFBS0EsQ0FBQ2UsVUFBVTtRQUFFUDtRQUFVSTtRQUFLQztJQUFVO0lBQ2hFVCwwREFBZ0JBLENBQUNZLE9BQU9DLE9BQU87SUFDL0JaLHlEQUFRQSxDQUFDO0FBQ1g7QUFFTyxNQUFNYSxlQUFlQSwwRkFBQUEseURBRzFCOztJQUZBZiw0REFBa0JBO0lBQ2xCRSx5REFBUUEsQ0FBQztBQUNYO0FBRU8sTUFBTWMsdUJBQXVCQSwwRkFBQUEseURBc0JsQzswQkF0QnlDWjtJQUN6QyxNQUFNYSxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLFNBQVMsS0FBSztJQUN6Q3RCLGlGQUEyQkEsQ0FBQ21CO0lBRTVCLE1BQU1aLFdBQVdDLE9BQU9GLFNBQVNHLEdBQUcsQ0FBQyxlQUFlO0lBQ3BELE1BQU1FLE1BQU1ILE9BQU9GLFNBQVNHLEdBQUcsQ0FBQyxVQUFVO0lBQzFDLE1BQU1HLFlBQVlOLFNBQVNHLEdBQUcsQ0FBQyxlQUFlRCxPQUFPRixTQUFTRyxHQUFHLENBQUMsZ0JBQWdCSTtJQUVsRixNQUFNQyxXQUFXYix5REFBY0E7SUFDL0IsTUFBTWMsU0FBUyxNQUFNaEIsMkRBQUtBLENBQUNlLFVBQVU7UUFBRVA7UUFBVUk7UUFBS0M7SUFBVTtJQUNoRVQsMERBQWdCQSxDQUFDWSxPQUFPQyxPQUFPO0lBRS9CLE1BQU1GLFNBQVNTLEtBQUssQ0FBQ0MsV0FBVyxDQUFDO1FBQy9CWixXQUFXRyxPQUFPQyxPQUFPLENBQUNKLFNBQVM7UUFDbkNhLE9BQU9WLE9BQU9DLE9BQU8sQ0FBQ1QsUUFBUTtRQUM5Qm1CLFFBQVE7UUFDUkMsU0FBUztZQUNQQyxNQUFNckI7UUFDUjtJQUNGO0lBRUFILHlEQUFRQSxDQUFDO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi9zcmMvc2VydmVyL2FjdGlvbnMvYXV0aC50cz9kOTUxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgeyBsb2dpbiwgZW5zdXJlRGVtb1JvbGVTd2l0Y2hBbGxvd2VkIH0gZnJvbSBcIkBlbm51c3RlL2FwcGxpY2F0aW9uXCI7XG5pbXBvcnQgeyBjcmVhdGVTZXJ2aWNlcyB9IGZyb20gXCIuLi9zZXJ2aWNlc1wiO1xuaW1wb3J0IHsgY2xlYXJTZXNzaW9uQ29va2llLCBzZXRTZXNzaW9uQ29va2llIH0gZnJvbSBcIi4uL3Nlc3Npb25cIjtcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuXG5leHBvcnQgY29uc3QgbG9naW5BY3Rpb24gPSBhc3luYyAoZm9ybURhdGE6IEZvcm1EYXRhKSA9PiB7XG4gIGNvbnN0IHVzZXJuYW1lID0gU3RyaW5nKGZvcm1EYXRhLmdldChcInVzZXJuYW1lXCIpID8/IFwiXCIpLnRyaW0oKTtcbiAgY29uc3QgcGluID0gU3RyaW5nKGZvcm1EYXRhLmdldChcInBpblwiKSA/PyBcIlwiKS50cmltKCk7XG4gIGNvbnN0IHByb2plY3RJZCA9IGZvcm1EYXRhLmdldChcInByb2plY3RJZFwiKSA/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwcm9qZWN0SWRcIikpIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHNlcnZpY2VzID0gY3JlYXRlU2VydmljZXMoKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9naW4oc2VydmljZXMsIHsgdXNlcm5hbWUsIHBpbiwgcHJvamVjdElkIH0pO1xuICBzZXRTZXNzaW9uQ29va2llKHJlc3VsdC5zZXNzaW9uKTtcbiAgcmVkaXJlY3QoXCIveWxhdGFzb1wiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dvdXRBY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gIGNsZWFyU2Vzc2lvbkNvb2tpZSgpO1xuICByZWRpcmVjdChcIi9sb2dpblwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWlja1JvbGVMb2dpbkFjdGlvbiA9IGFzeW5jIChmb3JtRGF0YTogRm9ybURhdGEpID0+IHtcbiAgY29uc3QgaXNEZW1vID0gcHJvY2Vzcy5lbnYuREVNT19NT0RFID09PSBcInRydWVcIjtcbiAgZW5zdXJlRGVtb1JvbGVTd2l0Y2hBbGxvd2VkKGlzRGVtbyk7XG5cbiAgY29uc3QgdXNlcm5hbWUgPSBTdHJpbmcoZm9ybURhdGEuZ2V0KFwidXNlcm5hbWVcIikgPz8gXCJcIik7XG4gIGNvbnN0IHBpbiA9IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwaW5cIikgPz8gXCJcIik7XG4gIGNvbnN0IHByb2plY3RJZCA9IGZvcm1EYXRhLmdldChcInByb2plY3RJZFwiKSA/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwcm9qZWN0SWRcIikpIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IHNlcnZpY2VzID0gY3JlYXRlU2VydmljZXMoKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbG9naW4oc2VydmljZXMsIHsgdXNlcm5hbWUsIHBpbiwgcHJvamVjdElkIH0pO1xuICBzZXRTZXNzaW9uQ29va2llKHJlc3VsdC5zZXNzaW9uKTtcblxuICBhd2FpdCBzZXJ2aWNlcy5hdWRpdC5yZWNvcmRFdmVudCh7XG4gICAgcHJvamVjdElkOiByZXN1bHQuc2Vzc2lvbi5wcm9qZWN0SWQsXG4gICAgYWN0b3I6IHJlc3VsdC5zZXNzaW9uLnVzZXJuYW1lLFxuICAgIGFjdGlvbjogXCJhdXRoLnF1aWNrX2xvZ2luXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgcm9sZTogdXNlcm5hbWVcbiAgICB9XG4gIH0pO1xuXG4gIHJlZGlyZWN0KFwiL3lsYXRhc29cIik7XG59O1xuIl0sIm5hbWVzIjpbImxvZ2luIiwiZW5zdXJlRGVtb1JvbGVTd2l0Y2hBbGxvd2VkIiwiY3JlYXRlU2VydmljZXMiLCJjbGVhclNlc3Npb25Db29raWUiLCJzZXRTZXNzaW9uQ29va2llIiwicmVkaXJlY3QiLCJsb2dpbkFjdGlvbiIsImZvcm1EYXRhIiwidXNlcm5hbWUiLCJTdHJpbmciLCJnZXQiLCJ0cmltIiwicGluIiwicHJvamVjdElkIiwidW5kZWZpbmVkIiwic2VydmljZXMiLCJyZXN1bHQiLCJzZXNzaW9uIiwibG9nb3V0QWN0aW9uIiwicXVpY2tSb2xlTG9naW5BY3Rpb24iLCJpc0RlbW8iLCJwcm9jZXNzIiwiZW52IiwiREVNT19NT0RFIiwiYXVkaXQiLCJyZWNvcmRFdmVudCIsImFjdG9yIiwiYWN0aW9uIiwicGF5bG9hZCIsInJvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/actions/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/services.ts":
/*!********************************!*\
  !*** ./src/server/services.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServices: () => (/* binding */ createServices)\n/* harmony export */ });\n/* harmony import */ var _ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ennuste/infrastructure */ \"(rsc)/../../packages/infrastructure/src/index.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__]);\n_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst createServices = ()=>({\n        auth: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.authRepository)(),\n        rbac: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.rbacRepository)(),\n        planning: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.planningRepository)(),\n        forecast: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.forecastRepository)(),\n        report: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.reportRepository)(),\n        admin: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.adminRepository)(),\n        workPhases: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.workPhaseRepository)(),\n        audit: (0,_ennuste_infrastructure__WEBPACK_IMPORTED_MODULE_0__.auditRepository)()\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmVyL3NlcnZpY2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBMO0FBR25MLE1BQU1RLGlCQUFpQixJQUFvQjtRQUNoREMsTUFBTVAsdUVBQWNBO1FBQ3BCUSxNQUFNTCx1RUFBY0E7UUFDcEJNLFVBQVVQLDJFQUFrQkE7UUFDNUJRLFVBQVVULDJFQUFrQkE7UUFDNUJVLFFBQVFQLHlFQUFnQkE7UUFDeEJRLE9BQU9kLHdFQUFlQTtRQUN0QmUsWUFBWVIsNEVBQW1CQTtRQUMvQlMsT0FBT2Ysd0VBQWVBO0lBQ3hCLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi9zcmMvc2VydmVyL3NlcnZpY2VzLnRzPzQwZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRtaW5SZXBvc2l0b3J5LCBhdWRpdFJlcG9zaXRvcnksIGF1dGhSZXBvc2l0b3J5LCBmb3JlY2FzdFJlcG9zaXRvcnksIHBsYW5uaW5nUmVwb3NpdG9yeSwgcmJhY1JlcG9zaXRvcnksIHJlcG9ydFJlcG9zaXRvcnksIHdvcmtQaGFzZVJlcG9zaXRvcnkgfSBmcm9tIFwiQGVubnVzdGUvaW5mcmFzdHJ1Y3R1cmVcIjtcbmltcG9ydCB0eXBlIHsgQXBwU2VydmljZXMgfSBmcm9tIFwiQGVubnVzdGUvYXBwbGljYXRpb25cIjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlcnZpY2VzID0gKCk6IEFwcFNlcnZpY2VzID0+ICh7XG4gIGF1dGg6IGF1dGhSZXBvc2l0b3J5KCksXG4gIHJiYWM6IHJiYWNSZXBvc2l0b3J5KCksXG4gIHBsYW5uaW5nOiBwbGFubmluZ1JlcG9zaXRvcnkoKSxcbiAgZm9yZWNhc3Q6IGZvcmVjYXN0UmVwb3NpdG9yeSgpLFxuICByZXBvcnQ6IHJlcG9ydFJlcG9zaXRvcnkoKSxcbiAgYWRtaW46IGFkbWluUmVwb3NpdG9yeSgpLFxuICB3b3JrUGhhc2VzOiB3b3JrUGhhc2VSZXBvc2l0b3J5KCksXG4gIGF1ZGl0OiBhdWRpdFJlcG9zaXRvcnkoKVxufSk7XG4iXSwibmFtZXMiOlsiYWRtaW5SZXBvc2l0b3J5IiwiYXVkaXRSZXBvc2l0b3J5IiwiYXV0aFJlcG9zaXRvcnkiLCJmb3JlY2FzdFJlcG9zaXRvcnkiLCJwbGFubmluZ1JlcG9zaXRvcnkiLCJyYmFjUmVwb3NpdG9yeSIsInJlcG9ydFJlcG9zaXRvcnkiLCJ3b3JrUGhhc2VSZXBvc2l0b3J5IiwiY3JlYXRlU2VydmljZXMiLCJhdXRoIiwicmJhYyIsInBsYW5uaW5nIiwiZm9yZWNhc3QiLCJyZXBvcnQiLCJhZG1pbiIsIndvcmtQaGFzZXMiLCJhdWRpdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/services.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/session.ts":
/*!*******************************!*\
  !*** ./src/server/session.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearSessionCookie: () => (/* binding */ clearSessionCookie),\n/* harmony export */   createSessionToken: () => (/* binding */ createSessionToken),\n/* harmony export */   getSessionFromCookies: () => (/* binding */ getSessionFromCookies),\n/* harmony export */   getSessionFromRequest: () => (/* binding */ getSessionFromRequest),\n/* harmony export */   requireSession: () => (/* binding */ requireSession),\n/* harmony export */   setSessionCookie: () => (/* binding */ setSessionCookie)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _ennuste_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ennuste/shared */ \"(rsc)/../../packages/shared/src/index.ts\");\n\n\n\nconst COOKIE_NAME = \"ennuste_session\";\nconst DEFAULT_MAX_AGE_SECONDS = 60 * 60 * 8; // 8h\nconst getSecret = ()=>{\n    const secret = process.env.SESSION_SECRET;\n    if (!secret) {\n        throw new Error(\"SESSION_SECRET puuttuu\");\n    }\n    return secret;\n};\nconst sign = (payload, secret)=>node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", secret).update(payload).digest(\"base64url\");\nconst encode = (session, maxAgeSeconds = DEFAULT_MAX_AGE_SECONDS)=>{\n    const payload = {\n        session,\n        exp: Date.now() + maxAgeSeconds * 1000\n    };\n    const json = JSON.stringify(payload);\n    const b64 = Buffer.from(json, \"utf8\").toString(\"base64url\");\n    const signature = sign(b64, getSecret());\n    return `${b64}.${signature}`;\n};\nconst decode = (value)=>{\n    const [b64, signature] = value.split(\".\");\n    if (!b64 || !signature) {\n        throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_2__.AuthError(\"Istunto ei kelpaa\");\n    }\n    const expected = sign(b64, getSecret());\n    if (!node_crypto__WEBPACK_IMPORTED_MODULE_0___default().timingSafeEqual(Buffer.from(signature), Buffer.from(expected))) {\n        throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_2__.AuthError(\"Istunnon allekirjoitus ei kelpaa\");\n    }\n    const json = Buffer.from(b64, \"base64url\").toString(\"utf8\");\n    const payload = JSON.parse(json);\n    if (Date.now() > payload.exp) {\n        throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_2__.AuthError(\"Istunto on vanhentunut\");\n    }\n    return payload.session;\n};\nconst setSessionCookie = (session, maxAgeSeconds = DEFAULT_MAX_AGE_SECONDS)=>{\n    const value = encode(session, maxAgeSeconds);\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set(COOKIE_NAME, value, {\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: \"development\" === \"production\",\n        path: \"/\",\n        maxAge: maxAgeSeconds\n    });\n};\nconst createSessionToken = (session, maxAgeSeconds = DEFAULT_MAX_AGE_SECONDS)=>{\n    return encode(session, maxAgeSeconds);\n};\nconst clearSessionCookie = ()=>{\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set(COOKIE_NAME, \"\", {\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: \"development\" === \"production\",\n        path: \"/\",\n        maxAge: 0\n    });\n};\nconst getSessionFromCookies = ()=>{\n    const value = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    if (!value) {\n        return null;\n    }\n    return decode(value);\n};\nconst getSessionFromRequest = (request)=>{\n    const cookieHeader = request.headers.get(\"cookie\");\n    if (!cookieHeader) {\n        return null;\n    }\n    const parts = cookieHeader.split(\";\").map((part)=>part.trim());\n    const match = parts.find((part)=>part.startsWith(`${COOKIE_NAME}=`));\n    if (!match) {\n        return null;\n    }\n    const value = match.slice(COOKIE_NAME.length + 1);\n    return decode(value);\n};\nconst requireSession = ()=>{\n    const session = getSessionFromCookies();\n    if (!session) {\n        throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_2__.AuthError(\"Kirjaudu sisaan\");\n    }\n    return session;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU87SUFDVDtJQUNBLE1BQU1FLFFBQVFGLGFBQWFqQixLQUFLLENBQUMsS0FBS29CLEdBQUcsQ0FBQyxDQUFDQyxPQUFTQSxLQUFLQyxJQUFJO0lBQzdELE1BQU1DLFFBQVFKLE1BQU1LLElBQUksQ0FBQyxDQUFDSCxPQUFTQSxLQUFLSSxVQUFVLENBQUMsQ0FBQyxFQUFFdEQsWUFBWSxDQUFDLENBQUM7SUFDcEUsSUFBSSxDQUFDb0QsT0FBTztRQUNWLE9BQU87SUFDVDtJQUNBLE1BQU14QixRQUFRd0IsTUFBTUcsS0FBSyxDQUFDdkQsWUFBWXdELE1BQU0sR0FBRztJQUMvQyxPQUFPN0IsT0FBT0M7QUFDaEIsRUFBRTtBQUVLLE1BQU02QixpQkFBaUI7SUFDNUIsTUFBTTNDLFVBQVU0QjtJQUNoQixJQUFJLENBQUM1QixTQUFTO1FBQ1osTUFBTSxJQUFJZixzREFBU0EsQ0FBQztJQUN0QjtJQUNBLE9BQU9lO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uL3NyYy9zZXJ2ZXIvc2Vzc2lvbi50cz9iY2E4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSBcIm5vZGU6Y3J5cHRvXCI7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xuaW1wb3J0IHR5cGUgeyBTZXNzaW9uVXNlciB9IGZyb20gXCJAZW5udXN0ZS9zaGFyZWRcIjtcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gXCJAZW5udXN0ZS9zaGFyZWRcIjtcblxuY29uc3QgQ09PS0lFX05BTUUgPSBcImVubnVzdGVfc2Vzc2lvblwiO1xuY29uc3QgREVGQVVMVF9NQVhfQUdFX1NFQ09ORFMgPSA2MCAqIDYwICogODsgLy8gOGhcblxuY29uc3QgZ2V0U2VjcmV0ID0gKCkgPT4ge1xuICBjb25zdCBzZWNyZXQgPSBwcm9jZXNzLmVudi5TRVNTSU9OX1NFQ1JFVDtcbiAgaWYgKCFzZWNyZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTRVNTSU9OX1NFQ1JFVCBwdXV0dHV1XCIpO1xuICB9XG4gIHJldHVybiBzZWNyZXQ7XG59O1xuXG5jb25zdCBzaWduID0gKHBheWxvYWQ6IHN0cmluZywgc2VjcmV0OiBzdHJpbmcpID0+XG4gIGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIHNlY3JldCkudXBkYXRlKHBheWxvYWQpLmRpZ2VzdChcImJhc2U2NHVybFwiKTtcblxuY29uc3QgZW5jb2RlID0gKHNlc3Npb246IFNlc3Npb25Vc2VyLCBtYXhBZ2VTZWNvbmRzID0gREVGQVVMVF9NQVhfQUdFX1NFQ09ORFMpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzZXNzaW9uLFxuICAgIGV4cDogRGF0ZS5ub3coKSArIG1heEFnZVNlY29uZHMgKiAxMDAwXG4gIH07XG4gIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcbiAgY29uc3QgYjY0ID0gQnVmZmVyLmZyb20oanNvbiwgXCJ1dGY4XCIpLnRvU3RyaW5nKFwiYmFzZTY0dXJsXCIpO1xuICBjb25zdCBzaWduYXR1cmUgPSBzaWduKGI2NCwgZ2V0U2VjcmV0KCkpO1xuICByZXR1cm4gYCR7YjY0fS4ke3NpZ25hdHVyZX1gO1xufTtcblxuY29uc3QgZGVjb2RlID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgW2I2NCwgc2lnbmF0dXJlXSA9IHZhbHVlLnNwbGl0KFwiLlwiKTtcbiAgaWYgKCFiNjQgfHwgIXNpZ25hdHVyZSkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJJc3R1bnRvIGVpIGtlbHBhYVwiKTtcbiAgfVxuICBjb25zdCBleHBlY3RlZCA9IHNpZ24oYjY0LCBnZXRTZWNyZXQoKSk7XG4gIGlmICghY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChCdWZmZXIuZnJvbShzaWduYXR1cmUpLCBCdWZmZXIuZnJvbShleHBlY3RlZCkpKSB7XG4gICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIklzdHVubm9uIGFsbGVraXJqb2l0dXMgZWkga2VscGFhXCIpO1xuICB9XG4gIGNvbnN0IGpzb24gPSBCdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0dXJsXCIpLnRvU3RyaW5nKFwidXRmOFwiKTtcbiAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UoanNvbikgYXMgeyBzZXNzaW9uOiBTZXNzaW9uVXNlcjsgZXhwOiBudW1iZXIgfTtcbiAgaWYgKERhdGUubm93KCkgPiBwYXlsb2FkLmV4cCkge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJJc3R1bnRvIG9uIHZhbmhlbnR1bnV0XCIpO1xuICB9XG4gIHJldHVybiBwYXlsb2FkLnNlc3Npb247XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0U2Vzc2lvbkNvb2tpZSA9IChzZXNzaW9uOiBTZXNzaW9uVXNlciwgbWF4QWdlU2Vjb25kcyA9IERFRkFVTFRfTUFYX0FHRV9TRUNPTkRTKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gZW5jb2RlKHNlc3Npb24sIG1heEFnZVNlY29uZHMpO1xuICBjb29raWVzKCkuc2V0KENPT0tJRV9OQU1FLCB2YWx1ZSwge1xuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIG1heEFnZTogbWF4QWdlU2Vjb25kc1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXNzaW9uVG9rZW4gPSAoc2Vzc2lvbjogU2Vzc2lvblVzZXIsIG1heEFnZVNlY29uZHMgPSBERUZBVUxUX01BWF9BR0VfU0VDT05EUykgPT4ge1xuICByZXR1cm4gZW5jb2RlKHNlc3Npb24sIG1heEFnZVNlY29uZHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFyU2Vzc2lvbkNvb2tpZSA9ICgpID0+IHtcbiAgY29va2llcygpLnNldChDT09LSUVfTkFNRSwgXCJcIiwge1xuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIG1heEFnZTogMFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uRnJvbUNvb2tpZXMgPSAoKTogU2Vzc2lvblVzZXIgfCBudWxsID0+IHtcbiAgY29uc3QgdmFsdWUgPSBjb29raWVzKCkuZ2V0KENPT0tJRV9OQU1FKT8udmFsdWU7XG4gIGlmICghdmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZGVjb2RlKHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZXNzaW9uRnJvbVJlcXVlc3QgPSAocmVxdWVzdDogUmVxdWVzdCk6IFNlc3Npb25Vc2VyIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGNvb2tpZUhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJjb29raWVcIik7XG4gIGlmICghY29va2llSGVhZGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcGFydHMgPSBjb29raWVIZWFkZXIuc3BsaXQoXCI7XCIpLm1hcCgocGFydCkgPT4gcGFydC50cmltKCkpO1xuICBjb25zdCBtYXRjaCA9IHBhcnRzLmZpbmQoKHBhcnQpID0+IHBhcnQuc3RhcnRzV2l0aChgJHtDT09LSUVfTkFNRX09YCkpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBtYXRjaC5zbGljZShDT09LSUVfTkFNRS5sZW5ndGggKyAxKTtcbiAgcmV0dXJuIGRlY29kZSh2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVxdWlyZVNlc3Npb24gPSAoKTogU2Vzc2lvblVzZXIgPT4ge1xuICBjb25zdCBzZXNzaW9uID0gZ2V0U2Vzc2lvbkZyb21Db29raWVzKCk7XG4gIGlmICghc2Vzc2lvbikge1xuICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJLaXJqYXVkdSBzaXNhYW5cIik7XG4gIH1cbiAgcmV0dXJuIHNlc3Npb247XG59O1xuIl0sIm5hbWVzIjpbImNyeXB0byIsImNvb2tpZXMiLCJBdXRoRXJyb3IiLCJDT09LSUVfTkFNRSIsIkRFRkFVTFRfTUFYX0FHRV9TRUNPTkRTIiwiZ2V0U2VjcmV0Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIlNFU1NJT05fU0VDUkVUIiwiRXJyb3IiLCJzaWduIiwicGF5bG9hZCIsImNyZWF0ZUhtYWMiLCJ1cGRhdGUiLCJkaWdlc3QiLCJlbmNvZGUiLCJzZXNzaW9uIiwibWF4QWdlU2Vjb25kcyIsImV4cCIsIkRhdGUiLCJub3ciLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImI2NCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInNpZ25hdHVyZSIsImRlY29kZSIsInZhbHVlIiwic3BsaXQiLCJleHBlY3RlZCIsInRpbWluZ1NhZmVFcXVhbCIsInBhcnNlIiwic2V0U2Vzc2lvbkNvb2tpZSIsInNldCIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJzZWN1cmUiLCJwYXRoIiwibWF4QWdlIiwiY3JlYXRlU2Vzc2lvblRva2VuIiwiY2xlYXJTZXNzaW9uQ29va2llIiwiZ2V0U2Vzc2lvbkZyb21Db29raWVzIiwiZ2V0IiwiZ2V0U2Vzc2lvbkZyb21SZXF1ZXN0IiwicmVxdWVzdCIsImNvb2tpZUhlYWRlciIsImhlYWRlcnMiLCJwYXJ0cyIsIm1hcCIsInBhcnQiLCJ0cmltIiwibWF0Y2giLCJmaW5kIiwic3RhcnRzV2l0aCIsInNsaWNlIiwibGVuZ3RoIiwicmVxdWlyZVNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/server/session.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/application/src/index.ts":
/*!***********************************************!*\
  !*** ../../packages/application/src/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   approveCorrectionFinal: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.approveCorrectionFinal),\n/* harmony export */   approveCorrectionPm: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.approveCorrectionPm),\n/* harmony export */   createForecastEvent: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.createForecastEvent),\n/* harmony export */   createGhostEntry: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.createGhostEntry),\n/* harmony export */   createPlanningEvent: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.createPlanningEvent),\n/* harmony export */   createWeeklyUpdate: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.createWeeklyUpdate),\n/* harmony export */   ensureDemoRoleSwitchAllowed: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.ensureDemoRoleSwitchAllowed),\n/* harmony export */   loadAdminOverview: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadAdminOverview),\n/* harmony export */   loadAuditLog: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadAuditLog),\n/* harmony export */   loadDashboard: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadDashboard),\n/* harmony export */   loadForecastReport: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadForecastReport),\n/* harmony export */   loadMappingLines: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadMappingLines),\n/* harmony export */   loadPlanningReport: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadPlanningReport),\n/* harmony export */   loadTargetEstimate: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadTargetEstimate),\n/* harmony export */   loadWorkPhaseReport: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadWorkPhaseReport),\n/* harmony export */   loadWorkPhases: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.loadWorkPhases),\n/* harmony export */   lockBaseline: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.lockBaseline),\n/* harmony export */   login: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.login),\n/* harmony export */   proposeCorrection: () => (/* reexport safe */ _usecases__WEBPACK_IMPORTED_MODULE_1__.proposeCorrection)\n/* harmony export */ });\n/* harmony import */ var _ports__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ports */ \"(rsc)/../../packages/application/src/ports.ts\");\n/* harmony import */ var _usecases__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usecases */ \"(rsc)/../../packages/application/src/usecases.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXBwbGljYXRpb24vc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2FwcGxpY2F0aW9uL3NyYy9pbmRleC50cz9lNjYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL3BvcnRzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi91c2VjYXNlc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/application/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/application/src/ports.ts":
/*!***********************************************!*\
  !*** ../../packages/application/src/ports.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXBwbGljYXRpb24vc3JjL3BvcnRzLnRzIiwibWFwcGluZ3MiOiI7QUEwSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi4vLi4vcGFja2FnZXMvYXBwbGljYXRpb24vc3JjL3BvcnRzLnRzP2NjMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBQZXJtaXNzaW9uQ29kZSwgU2Vzc2lvblVzZXIgfSBmcm9tIFwiQGVubnVzdGUvc2hhcmVkXCI7XG5cbmV4cG9ydCB0eXBlIExvZ2luSW5wdXQgPSB7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHBpbjogc3RyaW5nO1xuICBwcm9qZWN0SWQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBMb2dpblJlc3VsdCA9IHtcbiAgc2Vzc2lvbjogU2Vzc2lvblVzZXI7XG59O1xuXG5leHBvcnQgdHlwZSBBdXRoUG9ydCA9IHtcbiAgbG9naW5XaXRoUGluKGlucHV0OiBMb2dpbklucHV0KTogUHJvbWlzZTxMb2dpblJlc3VsdD47XG4gIGdldFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25Vc2VyIHwgbnVsbD47XG4gIGNyZWF0ZVNlc3Npb24oc2Vzc2lvbjogU2Vzc2lvblVzZXIpOiBQcm9taXNlPHN0cmluZz47XG4gIGRlbGV0ZVNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+O1xufTtcblxuZXhwb3J0IHR5cGUgUmJhY1BvcnQgPSB7XG4gIHJlcXVpcmVQZXJtaXNzaW9uKHByb2plY3RJZDogc3RyaW5nLCB1c2VybmFtZTogc3RyaW5nLCBwZXJtaXNzaW9uOiBQZXJtaXNzaW9uQ29kZSk6IFByb21pc2U8dm9pZD47XG4gIGxpc3RQZXJtaXNzaW9ucyhwcm9qZWN0SWQ6IHN0cmluZywgdXNlcm5hbWU6IHN0cmluZyk6IFByb21pc2U8UGVybWlzc2lvbkNvZGVbXT47XG59O1xuXG5leHBvcnQgdHlwZSBQbGFubmluZ0V2ZW50SW5wdXQgPSB7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0YXJnZXRMaXR0ZXJhSWQ6IHN0cmluZztcbiAgc3RhdHVzOiBcIkRSQUZUXCIgfCBcIlJFQURZX0ZPUl9GT1JFQ0FTVFwiIHwgXCJMT0NLRURcIjtcbiAgc3VtbWFyeT86IHN0cmluZyB8IG51bGw7XG4gIG9ic2VydmF0aW9ucz86IHN0cmluZyB8IG51bGw7XG4gIHJpc2tzPzogc3RyaW5nIHwgbnVsbDtcbiAgZGVjaXNpb25zPzogc3RyaW5nIHwgbnVsbDtcbiAgY3JlYXRlZEJ5OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBGb3JlY2FzdEV2ZW50SW5wdXQgPSB7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICB0YXJnZXRMaXR0ZXJhSWQ6IHN0cmluZztcbiAgbWFwcGluZ1ZlcnNpb25JZD86IHN0cmluZyB8IG51bGw7XG4gIGNvbW1lbnQ/OiBzdHJpbmcgfCBudWxsO1xuICB0ZWNobmljYWxQcm9ncmVzcz86IG51bWJlciB8IG51bGw7XG4gIGZpbmFuY2lhbFByb2dyZXNzPzogbnVtYmVyIHwgbnVsbDtcbiAga3BpVmFsdWU/OiBudW1iZXIgfCBudWxsO1xuICBjcmVhdGVkQnk6IHN0cmluZztcbiAgbGluZXM6IEFycmF5PHtcbiAgICBjb3N0VHlwZTogXCJMQUJPUlwiIHwgXCJNQVRFUklBTFwiIHwgXCJTVUJDT05UUkFDVFwiIHwgXCJSRU5UQUxcIiB8IFwiT1RIRVJcIjtcbiAgICBmb3JlY2FzdFZhbHVlOiBudW1iZXI7XG4gICAgbWVtb0dlbmVyYWw/OiBzdHJpbmcgfCBudWxsO1xuICAgIG1lbW9Qcm9jdXJlbWVudD86IHN0cmluZyB8IG51bGw7XG4gICAgbWVtb0NhbGN1bGF0aW9uPzogc3RyaW5nIHwgbnVsbDtcbiAgfT47XG59O1xuXG5leHBvcnQgdHlwZSBQbGFubmluZ1BvcnQgPSB7XG4gIGNyZWF0ZVBsYW5uaW5nRXZlbnQoaW5wdXQ6IFBsYW5uaW5nRXZlbnRJbnB1dCk6IFByb21pc2U8eyBwbGFubmluZ0V2ZW50SWQ6IHN0cmluZyB9PjtcbiAgbGlzdFBsYW5uaW5nQ3VycmVudChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bltdPjtcbn07XG5cbmV4cG9ydCB0eXBlIEZvcmVjYXN0UG9ydCA9IHtcbiAgY3JlYXRlRm9yZWNhc3RFdmVudChpbnB1dDogRm9yZWNhc3RFdmVudElucHV0KTogUHJvbWlzZTx7IGZvcmVjYXN0RXZlbnRJZDogc3RyaW5nIH0+O1xuICBsaXN0Rm9yZWNhc3RDdXJyZW50KHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duW10+O1xufTtcblxuZXhwb3J0IHR5cGUgUmVwb3J0UG9ydCA9IHtcbiAgZ2V0RGFzaGJvYXJkKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPjtcbiAgZ2V0V29ya1BoYXNlUmVwb3J0KHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duW10+O1xuICBnZXRGb3JlY2FzdFJlcG9ydChwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bltdPjtcbiAgZ2V0UGxhbm5pbmdSZXBvcnQocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPHVua25vd25bXT47XG4gIGdldFRhcmdldEVzdGltYXRlKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duW10+O1xuICBnZXRNYXBwaW5nTGluZXMocHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPHVua25vd25bXT47XG4gIGdldEF1ZGl0TG9nKHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duW10+O1xufTtcblxuZXhwb3J0IHR5cGUgQWRtaW5Qb3J0ID0ge1xuICBnZXRBZG1pbk92ZXJ2aWV3KHByb2plY3RJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdXNlcnM6IEFycmF5PHsgdXNlcm5hbWU6IHN0cmluZzsgZGlzcGxheV9uYW1lOiBzdHJpbmcgfCBudWxsIH0+O1xuICAgIHJvbGVzOiBBcnJheTx7IHJvbGVfY29kZTogc3RyaW5nOyByb2xlX25hbWVfZmk6IHN0cmluZyB9PjtcbiAgICBhc3NpZ25tZW50czogQXJyYXk8e1xuICAgICAgc2NvcGU6IFwicHJvamVjdFwiIHwgXCJvcmdhbml6YXRpb25cIjtcbiAgICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgICByb2xlX2NvZGU6IHN0cmluZztcbiAgICAgIGdyYW50ZWRfYXQ6IHN0cmluZztcbiAgICB9PjtcbiAgfT47XG59O1xuXG5leHBvcnQgdHlwZSBXb3JrUGhhc2VQb3J0ID0ge1xuICBsaXN0V29ya1BoYXNlcyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bltdPjtcbiAgY3JlYXRlV2Vla2x5VXBkYXRlKGlucHV0OiB7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgd29ya1BoYXNlSWQ6IHN0cmluZztcbiAgICB3ZWVrRW5kaW5nOiBzdHJpbmc7XG4gICAgcGVyY2VudENvbXBsZXRlOiBudW1iZXI7XG4gICAgcHJvZ3Jlc3NOb3Rlcz86IHN0cmluZyB8IG51bGw7XG4gICAgcmlza3M/OiBzdHJpbmcgfCBudWxsO1xuICAgIGNyZWF0ZWRCeTogc3RyaW5nO1xuICB9KTogUHJvbWlzZTx7IHdvcmtQaGFzZVdlZWtseVVwZGF0ZUlkOiBzdHJpbmcgfT47XG4gIGNyZWF0ZUdob3N0RW50cnkoaW5wdXQ6IHtcbiAgICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgICB3b3JrUGhhc2VJZDogc3RyaW5nO1xuICAgIHdlZWtFbmRpbmc6IHN0cmluZztcbiAgICBjb3N0VHlwZTogXCJMQUJPUlwiIHwgXCJNQVRFUklBTFwiIHwgXCJTVUJDT05UUkFDVFwiIHwgXCJSRU5UQUxcIiB8IFwiT1RIRVJcIjtcbiAgICBhbW91bnQ6IG51bWJlcjtcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG4gICAgY3JlYXRlZEJ5OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPHsgZ2hvc3RDb3N0RW50cnlJZDogc3RyaW5nIH0+O1xuICBsb2NrQmFzZWxpbmUoaW5wdXQ6IHtcbiAgICB3b3JrUGhhc2VJZDogc3RyaW5nO1xuICAgIHdvcmtQaGFzZVZlcnNpb25JZDogc3RyaW5nO1xuICAgIHRhcmdldEltcG9ydEJhdGNoSWQ6IHN0cmluZztcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIG5vdGVzPzogc3RyaW5nIHwgbnVsbDtcbiAgfSk6IFByb21pc2U8eyB3b3JrUGhhc2VCYXNlbGluZUlkOiBzdHJpbmcgfT47XG4gIHByb3Bvc2VDb3JyZWN0aW9uKGlucHV0OiB7XG4gICAgd29ya1BoYXNlSWQ6IHN0cmluZztcbiAgICBpdGVtQ29kZTogc3RyaW5nO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgbm90ZXM/OiBzdHJpbmcgfCBudWxsO1xuICB9KTogUHJvbWlzZTx7IGNvcnJlY3Rpb25JZDogc3RyaW5nIH0+O1xuICBhcHByb3ZlQ29ycmVjdGlvblBtKGlucHV0OiB7XG4gICAgY29ycmVjdGlvbklkOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBjb21tZW50Pzogc3RyaW5nIHwgbnVsbDtcbiAgfSk6IFByb21pc2U8dm9pZD47XG4gIGFwcHJvdmVDb3JyZWN0aW9uRmluYWwoaW5wdXQ6IHtcbiAgICBjb3JyZWN0aW9uSWQ6IHN0cmluZztcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgIGNvbW1lbnQ/OiBzdHJpbmcgfCBudWxsO1xuICB9KTogUHJvbWlzZTx7IGJhc2VsaW5lSWQ6IHN0cmluZyB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEF1ZGl0UG9ydCA9IHtcbiAgcmVjb3JkRXZlbnQoaW5wdXQ6IHtcbiAgICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgICBhY3Rvcjogc3RyaW5nO1xuICAgIGFjdGlvbjogc3RyaW5nO1xuICAgIHBheWxvYWQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB9KTogUHJvbWlzZTx2b2lkPjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/application/src/ports.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/application/src/usecases.ts":
/*!**************************************************!*\
  !*** ../../packages/application/src/usecases.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   approveCorrectionFinal: () => (/* binding */ approveCorrectionFinal),\n/* harmony export */   approveCorrectionPm: () => (/* binding */ approveCorrectionPm),\n/* harmony export */   createForecastEvent: () => (/* binding */ createForecastEvent),\n/* harmony export */   createGhostEntry: () => (/* binding */ createGhostEntry),\n/* harmony export */   createPlanningEvent: () => (/* binding */ createPlanningEvent),\n/* harmony export */   createWeeklyUpdate: () => (/* binding */ createWeeklyUpdate),\n/* harmony export */   ensureDemoRoleSwitchAllowed: () => (/* binding */ ensureDemoRoleSwitchAllowed),\n/* harmony export */   loadAdminOverview: () => (/* binding */ loadAdminOverview),\n/* harmony export */   loadAuditLog: () => (/* binding */ loadAuditLog),\n/* harmony export */   loadDashboard: () => (/* binding */ loadDashboard),\n/* harmony export */   loadForecastReport: () => (/* binding */ loadForecastReport),\n/* harmony export */   loadMappingLines: () => (/* binding */ loadMappingLines),\n/* harmony export */   loadPlanningReport: () => (/* binding */ loadPlanningReport),\n/* harmony export */   loadTargetEstimate: () => (/* binding */ loadTargetEstimate),\n/* harmony export */   loadWorkPhaseReport: () => (/* binding */ loadWorkPhaseReport),\n/* harmony export */   loadWorkPhases: () => (/* binding */ loadWorkPhases),\n/* harmony export */   lockBaseline: () => (/* binding */ lockBaseline),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   proposeCorrection: () => (/* binding */ proposeCorrection)\n/* harmony export */ });\n/* harmony import */ var _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ennuste/shared */ \"(rsc)/../../packages/shared/src/index.ts\");\n\nconst login = async (services, input)=>{\n    const result = await services.auth.loginWithPin(input);\n    return result;\n};\nconst createPlanningEvent = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.createdBy, \"REPORT_READ\");\n    const result = await services.planning.createPlanningEvent(input);\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.createdBy,\n        action: \"planning.create\",\n        payload: {\n            planningEventId: result.planningEventId,\n            targetLitteraId: input.targetLitteraId,\n            status: input.status\n        }\n    });\n    return result;\n};\nconst createForecastEvent = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.createdBy, \"REPORT_READ\");\n    const result = await services.forecast.createForecastEvent(input);\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.createdBy,\n        action: \"forecast.create\",\n        payload: {\n            forecastEventId: result.forecastEventId,\n            targetLitteraId: input.targetLitteraId,\n            lineCount: input.lines.length\n        }\n    });\n    return result;\n};\nconst loadDashboard = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getDashboard(input.projectId);\n};\nconst loadWorkPhaseReport = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getWorkPhaseReport(input.projectId);\n};\nconst loadForecastReport = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getForecastReport(input.projectId);\n};\nconst loadPlanningReport = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getPlanningReport(input.projectId);\n};\nconst loadTargetEstimate = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getTargetEstimate(input.projectId);\n};\nconst loadMappingLines = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getMappingLines(input.projectId);\n};\nconst loadAuditLog = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.report.getAuditLog(input.projectId);\n};\nconst loadAdminOverview = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"MEMBERS_MANAGE\");\n    return services.admin.getAdminOverview(input.projectId);\n};\nconst loadWorkPhases = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"REPORT_READ\");\n    return services.workPhases.listWorkPhases(input.projectId);\n};\nconst createWeeklyUpdate = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"WORK_PHASE_WEEKLY_UPDATE_CREATE\");\n    const result = await services.workPhases.createWeeklyUpdate({\n        projectId: input.projectId,\n        workPhaseId: input.workPhaseId,\n        weekEnding: input.weekEnding,\n        percentComplete: input.percentComplete,\n        progressNotes: input.progressNotes ?? null,\n        risks: input.risks ?? null,\n        createdBy: input.username\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.weekly_update\",\n        payload: {\n            workPhaseId: input.workPhaseId,\n            updateId: result.workPhaseWeeklyUpdateId\n        }\n    });\n    return result;\n};\nconst createGhostEntry = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"GHOST_ENTRY_CREATE\");\n    const result = await services.workPhases.createGhostEntry({\n        projectId: input.projectId,\n        workPhaseId: input.workPhaseId,\n        weekEnding: input.weekEnding,\n        costType: input.costType,\n        amount: input.amount,\n        description: input.description ?? null,\n        createdBy: input.username\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.ghost_entry\",\n        payload: {\n            workPhaseId: input.workPhaseId,\n            ghostId: result.ghostCostEntryId\n        }\n    });\n    return result;\n};\nconst lockBaseline = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"BASELINE_LOCK\");\n    const result = await services.workPhases.lockBaseline({\n        workPhaseId: input.workPhaseId,\n        workPhaseVersionId: input.workPhaseVersionId,\n        targetImportBatchId: input.targetImportBatchId,\n        username: input.username,\n        notes: input.notes ?? null\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.baseline_lock\",\n        payload: {\n            workPhaseId: input.workPhaseId,\n            baselineId: result.workPhaseBaselineId\n        }\n    });\n    return result;\n};\nconst proposeCorrection = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"CORRECTION_PROPOSE\");\n    const result = await services.workPhases.proposeCorrection({\n        workPhaseId: input.workPhaseId,\n        itemCode: input.itemCode,\n        username: input.username,\n        notes: input.notes ?? null\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.correction_proposed\",\n        payload: {\n            workPhaseId: input.workPhaseId,\n            correctionId: result.correctionId\n        }\n    });\n    return result;\n};\nconst approveCorrectionPm = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"CORRECTION_APPROVE_PM\");\n    await services.workPhases.approveCorrectionPm({\n        correctionId: input.correctionId,\n        username: input.username,\n        comment: input.comment ?? null\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.correction_pm_approved\",\n        payload: {\n            correctionId: input.correctionId\n        }\n    });\n};\nconst approveCorrectionFinal = async (services, input)=>{\n    await services.rbac.requirePermission(input.projectId, input.username, \"CORRECTION_APPROVE_FINAL\");\n    const result = await services.workPhases.approveCorrectionFinal({\n        correctionId: input.correctionId,\n        username: input.username,\n        comment: input.comment ?? null\n    });\n    await services.audit.recordEvent({\n        projectId: input.projectId,\n        actor: input.username,\n        action: \"work_phase.correction_final_approved\",\n        payload: {\n            correctionId: input.correctionId,\n            baselineId: result.baselineId\n        }\n    });\n    return result;\n};\nconst ensureDemoRoleSwitchAllowed = (isDemo)=>{\n    if (!isDemo) {\n        throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.ForbiddenError(\"Pikavaihto on sallittu vain demo-tilassa\");\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvYXBwbGljYXRpb24vc3JjL3VzZWNhc2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWWlEO0FBYTFDLE1BQU1DLFFBQVEsT0FBT0MsVUFBdUJDO0lBQ2pELE1BQU1DLFNBQVMsTUFBTUYsU0FBU0csSUFBSSxDQUFDQyxZQUFZLENBQUNIO0lBQ2hELE9BQU9DO0FBQ1QsRUFBRTtBQUVLLE1BQU1HLHNCQUFzQixPQUFPTCxVQUF1QkM7SUFDL0QsTUFBTUQsU0FBU00sSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ04sTUFBTU8sU0FBUyxFQUFFUCxNQUFNUSxTQUFTLEVBQUU7SUFDeEUsTUFBTVAsU0FBUyxNQUFNRixTQUFTVSxRQUFRLENBQUNMLG1CQUFtQixDQUFDSjtJQUMzRCxNQUFNRCxTQUFTVyxLQUFLLENBQUNDLFdBQVcsQ0FBQztRQUMvQkosV0FBV1AsTUFBTU8sU0FBUztRQUMxQkssT0FBT1osTUFBTVEsU0FBUztRQUN0QkssUUFBUTtRQUNSQyxTQUFTO1lBQ1BDLGlCQUFpQmQsT0FBT2MsZUFBZTtZQUN2Q0MsaUJBQWlCaEIsTUFBTWdCLGVBQWU7WUFDdENDLFFBQVFqQixNQUFNaUIsTUFBTTtRQUN0QjtJQUNGO0lBQ0EsT0FBT2hCO0FBQ1QsRUFBRTtBQUVLLE1BQU1pQixzQkFBc0IsT0FBT25CLFVBQXVCQztJQUMvRCxNQUFNRCxTQUFTTSxJQUFJLENBQUNDLGlCQUFpQixDQUFDTixNQUFNTyxTQUFTLEVBQUVQLE1BQU1RLFNBQVMsRUFBRTtJQUN4RSxNQUFNUCxTQUFTLE1BQU1GLFNBQVNvQixRQUFRLENBQUNELG1CQUFtQixDQUFDbEI7SUFDM0QsTUFBTUQsU0FBU1csS0FBSyxDQUFDQyxXQUFXLENBQUM7UUFDL0JKLFdBQVdQLE1BQU1PLFNBQVM7UUFDMUJLLE9BQU9aLE1BQU1RLFNBQVM7UUFDdEJLLFFBQVE7UUFDUkMsU0FBUztZQUNQTSxpQkFBaUJuQixPQUFPbUIsZUFBZTtZQUN2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QixRQUFRO1FBQ3JCWixRQUFRO1FBQ1JDLFNBQVM7WUFBRXNELGNBQWNwRSxNQUFNb0UsWUFBWTtZQUFFSixZQUFZL0QsT0FBTytELFVBQVU7UUFBQztJQUM3RTtJQUNBLE9BQU8vRDtBQUNULEVBQUU7QUFFSyxNQUFNdUUsOEJBQThCLENBQUNDO0lBQzFDLElBQUksQ0FBQ0EsUUFBUTtRQUNYLE1BQU0sSUFBSTVFLDJEQUFjQSxDQUFDO0lBQzNCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uLi8uLi9wYWNrYWdlcy9hcHBsaWNhdGlvbi9zcmMvdXNlY2FzZXMudHM/YWE0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIEFkbWluUG9ydCxcbiAgQXVkaXRQb3J0LFxuICBBdXRoUG9ydCxcbiAgRm9yZWNhc3RFdmVudElucHV0LFxuICBGb3JlY2FzdFBvcnQsXG4gIFBsYW5uaW5nRXZlbnRJbnB1dCxcbiAgUGxhbm5pbmdQb3J0LFxuICBSYmFjUG9ydCxcbiAgUmVwb3J0UG9ydCxcbiAgV29ya1BoYXNlUG9ydFxufSBmcm9tIFwiLi9wb3J0c1wiO1xuaW1wb3J0IHsgRm9yYmlkZGVuRXJyb3IgfSBmcm9tIFwiQGVubnVzdGUvc2hhcmVkXCI7XG5cbmV4cG9ydCB0eXBlIEFwcFNlcnZpY2VzID0ge1xuICBhdXRoOiBBdXRoUG9ydDtcbiAgcmJhYzogUmJhY1BvcnQ7XG4gIHBsYW5uaW5nOiBQbGFubmluZ1BvcnQ7XG4gIGZvcmVjYXN0OiBGb3JlY2FzdFBvcnQ7XG4gIHJlcG9ydDogUmVwb3J0UG9ydDtcbiAgYWRtaW46IEFkbWluUG9ydDtcbiAgd29ya1BoYXNlczogV29ya1BoYXNlUG9ydDtcbiAgYXVkaXQ6IEF1ZGl0UG9ydDtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiB7IHVzZXJuYW1lOiBzdHJpbmc7IHBpbjogc3RyaW5nOyBwcm9qZWN0SWQ/OiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlcy5hdXRoLmxvZ2luV2l0aFBpbihpbnB1dCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhbm5pbmdFdmVudCA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiBQbGFubmluZ0V2ZW50SW5wdXQpID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LmNyZWF0ZWRCeSwgXCJSRVBPUlRfUkVBRFwiKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZXMucGxhbm5pbmcuY3JlYXRlUGxhbm5pbmdFdmVudChpbnB1dCk7XG4gIGF3YWl0IHNlcnZpY2VzLmF1ZGl0LnJlY29yZEV2ZW50KHtcbiAgICBwcm9qZWN0SWQ6IGlucHV0LnByb2plY3RJZCxcbiAgICBhY3RvcjogaW5wdXQuY3JlYXRlZEJ5LFxuICAgIGFjdGlvbjogXCJwbGFubmluZy5jcmVhdGVcIixcbiAgICBwYXlsb2FkOiB7XG4gICAgICBwbGFubmluZ0V2ZW50SWQ6IHJlc3VsdC5wbGFubmluZ0V2ZW50SWQsXG4gICAgICB0YXJnZXRMaXR0ZXJhSWQ6IGlucHV0LnRhcmdldExpdHRlcmFJZCxcbiAgICAgIHN0YXR1czogaW5wdXQuc3RhdHVzXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVGb3JlY2FzdEV2ZW50ID0gYXN5bmMgKHNlcnZpY2VzOiBBcHBTZXJ2aWNlcywgaW5wdXQ6IEZvcmVjYXN0RXZlbnRJbnB1dCkgPT4ge1xuICBhd2FpdCBzZXJ2aWNlcy5yYmFjLnJlcXVpcmVQZXJtaXNzaW9uKGlucHV0LnByb2plY3RJZCwgaW5wdXQuY3JlYXRlZEJ5LCBcIlJFUE9SVF9SRUFEXCIpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlcy5mb3JlY2FzdC5jcmVhdGVGb3JlY2FzdEV2ZW50KGlucHV0KTtcbiAgYXdhaXQgc2VydmljZXMuYXVkaXQucmVjb3JkRXZlbnQoe1xuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIGFjdG9yOiBpbnB1dC5jcmVhdGVkQnksXG4gICAgYWN0aW9uOiBcImZvcmVjYXN0LmNyZWF0ZVwiLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgIGZvcmVjYXN0RXZlbnRJZDogcmVzdWx0LmZvcmVjYXN0RXZlbnRJZCxcbiAgICAgIHRhcmdldExpdHRlcmFJZDogaW5wdXQudGFyZ2V0TGl0dGVyYUlkLFxuICAgICAgbGluZUNvdW50OiBpbnB1dC5saW5lcy5sZW5ndGhcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGxvYWREYXNoYm9hcmQgPSBhc3luYyAoc2VydmljZXM6IEFwcFNlcnZpY2VzLCBpbnB1dDogeyBwcm9qZWN0SWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZyB9KSA9PiB7XG4gIGF3YWl0IHNlcnZpY2VzLnJiYWMucmVxdWlyZVBlcm1pc3Npb24oaW5wdXQucHJvamVjdElkLCBpbnB1dC51c2VybmFtZSwgXCJSRVBPUlRfUkVBRFwiKTtcbiAgcmV0dXJuIHNlcnZpY2VzLnJlcG9ydC5nZXREYXNoYm9hcmQoaW5wdXQucHJvamVjdElkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkV29ya1BoYXNlUmVwb3J0ID0gYXN5bmMgKHNlcnZpY2VzOiBBcHBTZXJ2aWNlcywgaW5wdXQ6IHsgcHJvamVjdElkOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfSkgPT4ge1xuICBhd2FpdCBzZXJ2aWNlcy5yYmFjLnJlcXVpcmVQZXJtaXNzaW9uKGlucHV0LnByb2plY3RJZCwgaW5wdXQudXNlcm5hbWUsIFwiUkVQT1JUX1JFQURcIik7XG4gIHJldHVybiBzZXJ2aWNlcy5yZXBvcnQuZ2V0V29ya1BoYXNlUmVwb3J0KGlucHV0LnByb2plY3RJZCk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9hZEZvcmVjYXN0UmVwb3J0ID0gYXN5bmMgKHNlcnZpY2VzOiBBcHBTZXJ2aWNlcywgaW5wdXQ6IHsgcHJvamVjdElkOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmcgfSkgPT4ge1xuICBhd2FpdCBzZXJ2aWNlcy5yYmFjLnJlcXVpcmVQZXJtaXNzaW9uKGlucHV0LnByb2plY3RJZCwgaW5wdXQudXNlcm5hbWUsIFwiUkVQT1JUX1JFQURcIik7XG4gIHJldHVybiBzZXJ2aWNlcy5yZXBvcnQuZ2V0Rm9yZWNhc3RSZXBvcnQoaW5wdXQucHJvamVjdElkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkUGxhbm5pbmdSZXBvcnQgPSBhc3luYyAoc2VydmljZXM6IEFwcFNlcnZpY2VzLCBpbnB1dDogeyBwcm9qZWN0SWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZyB9KSA9PiB7XG4gIGF3YWl0IHNlcnZpY2VzLnJiYWMucmVxdWlyZVBlcm1pc3Npb24oaW5wdXQucHJvamVjdElkLCBpbnB1dC51c2VybmFtZSwgXCJSRVBPUlRfUkVBRFwiKTtcbiAgcmV0dXJuIHNlcnZpY2VzLnJlcG9ydC5nZXRQbGFubmluZ1JlcG9ydChpbnB1dC5wcm9qZWN0SWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvYWRUYXJnZXRFc3RpbWF0ZSA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH0pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIlJFUE9SVF9SRUFEXCIpO1xuICByZXR1cm4gc2VydmljZXMucmVwb3J0LmdldFRhcmdldEVzdGltYXRlKGlucHV0LnByb2plY3RJZCk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9hZE1hcHBpbmdMaW5lcyA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH0pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIlJFUE9SVF9SRUFEXCIpO1xuICByZXR1cm4gc2VydmljZXMucmVwb3J0LmdldE1hcHBpbmdMaW5lcyhpbnB1dC5wcm9qZWN0SWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvYWRBdWRpdExvZyA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH0pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIlJFUE9SVF9SRUFEXCIpO1xuICByZXR1cm4gc2VydmljZXMucmVwb3J0LmdldEF1ZGl0TG9nKGlucHV0LnByb2plY3RJZCk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9hZEFkbWluT3ZlcnZpZXcgPSBhc3luYyAoc2VydmljZXM6IEFwcFNlcnZpY2VzLCBpbnB1dDogeyBwcm9qZWN0SWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZyB9KSA9PiB7XG4gIGF3YWl0IHNlcnZpY2VzLnJiYWMucmVxdWlyZVBlcm1pc3Npb24oaW5wdXQucHJvamVjdElkLCBpbnB1dC51c2VybmFtZSwgXCJNRU1CRVJTX01BTkFHRVwiKTtcbiAgcmV0dXJuIHNlcnZpY2VzLmFkbWluLmdldEFkbWluT3ZlcnZpZXcoaW5wdXQucHJvamVjdElkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkV29ya1BoYXNlcyA9IGFzeW5jIChzZXJ2aWNlczogQXBwU2VydmljZXMsIGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nIH0pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIlJFUE9SVF9SRUFEXCIpO1xuICByZXR1cm4gc2VydmljZXMud29ya1BoYXNlcy5saXN0V29ya1BoYXNlcyhpbnB1dC5wcm9qZWN0SWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlZWtseVVwZGF0ZSA9IGFzeW5jIChcbiAgc2VydmljZXM6IEFwcFNlcnZpY2VzLFxuICBpbnB1dDoge1xuICAgIHByb2plY3RJZDogc3RyaW5nO1xuICAgIHdvcmtQaGFzZUlkOiBzdHJpbmc7XG4gICAgd2Vla0VuZGluZzogc3RyaW5nO1xuICAgIHBlcmNlbnRDb21wbGV0ZTogbnVtYmVyO1xuICAgIHByb2dyZXNzTm90ZXM/OiBzdHJpbmcgfCBudWxsO1xuICAgIHJpc2tzPzogc3RyaW5nIHwgbnVsbDtcbiAgICB1c2VybmFtZTogc3RyaW5nO1xuICB9XG4pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIldPUktfUEhBU0VfV0VFS0xZX1VQREFURV9DUkVBVEVcIik7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2VzLndvcmtQaGFzZXMuY3JlYXRlV2Vla2x5VXBkYXRlKHtcbiAgICBwcm9qZWN0SWQ6IGlucHV0LnByb2plY3RJZCxcbiAgICB3b3JrUGhhc2VJZDogaW5wdXQud29ya1BoYXNlSWQsXG4gICAgd2Vla0VuZGluZzogaW5wdXQud2Vla0VuZGluZyxcbiAgICBwZXJjZW50Q29tcGxldGU6IGlucHV0LnBlcmNlbnRDb21wbGV0ZSxcbiAgICBwcm9ncmVzc05vdGVzOiBpbnB1dC5wcm9ncmVzc05vdGVzID8/IG51bGwsXG4gICAgcmlza3M6IGlucHV0LnJpc2tzID8/IG51bGwsXG4gICAgY3JlYXRlZEJ5OiBpbnB1dC51c2VybmFtZVxuICB9KTtcbiAgYXdhaXQgc2VydmljZXMuYXVkaXQucmVjb3JkRXZlbnQoe1xuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIGFjdG9yOiBpbnB1dC51c2VybmFtZSxcbiAgICBhY3Rpb246IFwid29ya19waGFzZS53ZWVrbHlfdXBkYXRlXCIsXG4gICAgcGF5bG9hZDogeyB3b3JrUGhhc2VJZDogaW5wdXQud29ya1BoYXNlSWQsIHVwZGF0ZUlkOiByZXN1bHQud29ya1BoYXNlV2Vla2x5VXBkYXRlSWQgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVHaG9zdEVudHJ5ID0gYXN5bmMgKFxuICBzZXJ2aWNlczogQXBwU2VydmljZXMsXG4gIGlucHV0OiB7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgd29ya1BoYXNlSWQ6IHN0cmluZztcbiAgICB3ZWVrRW5kaW5nOiBzdHJpbmc7XG4gICAgY29zdFR5cGU6IFwiTEFCT1JcIiB8IFwiTUFURVJJQUxcIiB8IFwiU1VCQ09OVFJBQ1RcIiB8IFwiUkVOVEFMXCIgfCBcIk9USEVSXCI7XG4gICAgYW1vdW50OiBudW1iZXI7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gIH1cbikgPT4ge1xuICBhd2FpdCBzZXJ2aWNlcy5yYmFjLnJlcXVpcmVQZXJtaXNzaW9uKGlucHV0LnByb2plY3RJZCwgaW5wdXQudXNlcm5hbWUsIFwiR0hPU1RfRU5UUllfQ1JFQVRFXCIpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlcy53b3JrUGhhc2VzLmNyZWF0ZUdob3N0RW50cnkoe1xuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIHdvcmtQaGFzZUlkOiBpbnB1dC53b3JrUGhhc2VJZCxcbiAgICB3ZWVrRW5kaW5nOiBpbnB1dC53ZWVrRW5kaW5nLFxuICAgIGNvc3RUeXBlOiBpbnB1dC5jb3N0VHlwZSxcbiAgICBhbW91bnQ6IGlucHV0LmFtb3VudCxcbiAgICBkZXNjcmlwdGlvbjogaW5wdXQuZGVzY3JpcHRpb24gPz8gbnVsbCxcbiAgICBjcmVhdGVkQnk6IGlucHV0LnVzZXJuYW1lXG4gIH0pO1xuICBhd2FpdCBzZXJ2aWNlcy5hdWRpdC5yZWNvcmRFdmVudCh7XG4gICAgcHJvamVjdElkOiBpbnB1dC5wcm9qZWN0SWQsXG4gICAgYWN0b3I6IGlucHV0LnVzZXJuYW1lLFxuICAgIGFjdGlvbjogXCJ3b3JrX3BoYXNlLmdob3N0X2VudHJ5XCIsXG4gICAgcGF5bG9hZDogeyB3b3JrUGhhc2VJZDogaW5wdXQud29ya1BoYXNlSWQsIGdob3N0SWQ6IHJlc3VsdC5naG9zdENvc3RFbnRyeUlkIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgbG9ja0Jhc2VsaW5lID0gYXN5bmMgKFxuICBzZXJ2aWNlczogQXBwU2VydmljZXMsXG4gIGlucHV0OiB7XG4gICAgd29ya1BoYXNlSWQ6IHN0cmluZztcbiAgICB3b3JrUGhhc2VWZXJzaW9uSWQ6IHN0cmluZztcbiAgICB0YXJnZXRJbXBvcnRCYXRjaElkOiBzdHJpbmc7XG4gICAgcHJvamVjdElkOiBzdHJpbmc7XG4gICAgdXNlcm5hbWU6IHN0cmluZztcbiAgICBub3Rlcz86IHN0cmluZyB8IG51bGw7XG4gIH1cbikgPT4ge1xuICBhd2FpdCBzZXJ2aWNlcy5yYmFjLnJlcXVpcmVQZXJtaXNzaW9uKGlucHV0LnByb2plY3RJZCwgaW5wdXQudXNlcm5hbWUsIFwiQkFTRUxJTkVfTE9DS1wiKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZXMud29ya1BoYXNlcy5sb2NrQmFzZWxpbmUoe1xuICAgIHdvcmtQaGFzZUlkOiBpbnB1dC53b3JrUGhhc2VJZCxcbiAgICB3b3JrUGhhc2VWZXJzaW9uSWQ6IGlucHV0LndvcmtQaGFzZVZlcnNpb25JZCxcbiAgICB0YXJnZXRJbXBvcnRCYXRjaElkOiBpbnB1dC50YXJnZXRJbXBvcnRCYXRjaElkLFxuICAgIHVzZXJuYW1lOiBpbnB1dC51c2VybmFtZSxcbiAgICBub3RlczogaW5wdXQubm90ZXMgPz8gbnVsbFxuICB9KTtcbiAgYXdhaXQgc2VydmljZXMuYXVkaXQucmVjb3JkRXZlbnQoe1xuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIGFjdG9yOiBpbnB1dC51c2VybmFtZSxcbiAgICBhY3Rpb246IFwid29ya19waGFzZS5iYXNlbGluZV9sb2NrXCIsXG4gICAgcGF5bG9hZDogeyB3b3JrUGhhc2VJZDogaW5wdXQud29ya1BoYXNlSWQsIGJhc2VsaW5lSWQ6IHJlc3VsdC53b3JrUGhhc2VCYXNlbGluZUlkIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvcG9zZUNvcnJlY3Rpb24gPSBhc3luYyAoXG4gIHNlcnZpY2VzOiBBcHBTZXJ2aWNlcyxcbiAgaW5wdXQ6IHsgcHJvamVjdElkOiBzdHJpbmc7IHdvcmtQaGFzZUlkOiBzdHJpbmc7IGl0ZW1Db2RlOiBzdHJpbmc7IHVzZXJuYW1lOiBzdHJpbmc7IG5vdGVzPzogc3RyaW5nIHwgbnVsbCB9XG4pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIkNPUlJFQ1RJT05fUFJPUE9TRVwiKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZXMud29ya1BoYXNlcy5wcm9wb3NlQ29ycmVjdGlvbih7XG4gICAgd29ya1BoYXNlSWQ6IGlucHV0LndvcmtQaGFzZUlkLFxuICAgIGl0ZW1Db2RlOiBpbnB1dC5pdGVtQ29kZSxcbiAgICB1c2VybmFtZTogaW5wdXQudXNlcm5hbWUsXG4gICAgbm90ZXM6IGlucHV0Lm5vdGVzID8/IG51bGxcbiAgfSk7XG4gIGF3YWl0IHNlcnZpY2VzLmF1ZGl0LnJlY29yZEV2ZW50KHtcbiAgICBwcm9qZWN0SWQ6IGlucHV0LnByb2plY3RJZCxcbiAgICBhY3RvcjogaW5wdXQudXNlcm5hbWUsXG4gICAgYWN0aW9uOiBcIndvcmtfcGhhc2UuY29ycmVjdGlvbl9wcm9wb3NlZFwiLFxuICAgIHBheWxvYWQ6IHsgd29ya1BoYXNlSWQ6IGlucHV0LndvcmtQaGFzZUlkLCBjb3JyZWN0aW9uSWQ6IHJlc3VsdC5jb3JyZWN0aW9uSWQgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHByb3ZlQ29ycmVjdGlvblBtID0gYXN5bmMgKFxuICBzZXJ2aWNlczogQXBwU2VydmljZXMsXG4gIGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyBjb3JyZWN0aW9uSWQ6IHN0cmluZzsgdXNlcm5hbWU6IHN0cmluZzsgY29tbWVudD86IHN0cmluZyB8IG51bGwgfVxuKSA9PiB7XG4gIGF3YWl0IHNlcnZpY2VzLnJiYWMucmVxdWlyZVBlcm1pc3Npb24oaW5wdXQucHJvamVjdElkLCBpbnB1dC51c2VybmFtZSwgXCJDT1JSRUNUSU9OX0FQUFJPVkVfUE1cIik7XG4gIGF3YWl0IHNlcnZpY2VzLndvcmtQaGFzZXMuYXBwcm92ZUNvcnJlY3Rpb25QbSh7XG4gICAgY29ycmVjdGlvbklkOiBpbnB1dC5jb3JyZWN0aW9uSWQsXG4gICAgdXNlcm5hbWU6IGlucHV0LnVzZXJuYW1lLFxuICAgIGNvbW1lbnQ6IGlucHV0LmNvbW1lbnQgPz8gbnVsbFxuICB9KTtcbiAgYXdhaXQgc2VydmljZXMuYXVkaXQucmVjb3JkRXZlbnQoe1xuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIGFjdG9yOiBpbnB1dC51c2VybmFtZSxcbiAgICBhY3Rpb246IFwid29ya19waGFzZS5jb3JyZWN0aW9uX3BtX2FwcHJvdmVkXCIsXG4gICAgcGF5bG9hZDogeyBjb3JyZWN0aW9uSWQ6IGlucHV0LmNvcnJlY3Rpb25JZCB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcHJvdmVDb3JyZWN0aW9uRmluYWwgPSBhc3luYyAoXG4gIHNlcnZpY2VzOiBBcHBTZXJ2aWNlcyxcbiAgaW5wdXQ6IHsgcHJvamVjdElkOiBzdHJpbmc7IGNvcnJlY3Rpb25JZDogc3RyaW5nOyB1c2VybmFtZTogc3RyaW5nOyBjb21tZW50Pzogc3RyaW5nIHwgbnVsbCB9XG4pID0+IHtcbiAgYXdhaXQgc2VydmljZXMucmJhYy5yZXF1aXJlUGVybWlzc2lvbihpbnB1dC5wcm9qZWN0SWQsIGlucHV0LnVzZXJuYW1lLCBcIkNPUlJFQ1RJT05fQVBQUk9WRV9GSU5BTFwiKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZXMud29ya1BoYXNlcy5hcHByb3ZlQ29ycmVjdGlvbkZpbmFsKHtcbiAgICBjb3JyZWN0aW9uSWQ6IGlucHV0LmNvcnJlY3Rpb25JZCxcbiAgICB1c2VybmFtZTogaW5wdXQudXNlcm5hbWUsXG4gICAgY29tbWVudDogaW5wdXQuY29tbWVudCA/PyBudWxsXG4gIH0pO1xuICBhd2FpdCBzZXJ2aWNlcy5hdWRpdC5yZWNvcmRFdmVudCh7XG4gICAgcHJvamVjdElkOiBpbnB1dC5wcm9qZWN0SWQsXG4gICAgYWN0b3I6IGlucHV0LnVzZXJuYW1lLFxuICAgIGFjdGlvbjogXCJ3b3JrX3BoYXNlLmNvcnJlY3Rpb25fZmluYWxfYXBwcm92ZWRcIixcbiAgICBwYXlsb2FkOiB7IGNvcnJlY3Rpb25JZDogaW5wdXQuY29ycmVjdGlvbklkLCBiYXNlbGluZUlkOiByZXN1bHQuYmFzZWxpbmVJZCB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGVuc3VyZURlbW9Sb2xlU3dpdGNoQWxsb3dlZCA9IChpc0RlbW86IGJvb2xlYW4pID0+IHtcbiAgaWYgKCFpc0RlbW8pIHtcbiAgICB0aHJvdyBuZXcgRm9yYmlkZGVuRXJyb3IoXCJQaWthdmFpaHRvIG9uIHNhbGxpdHR1IHZhaW4gZGVtby10aWxhc3NhXCIpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIkZvcmJpZGRlbkVycm9yIiwibG9naW4iLCJzZXJ2aWNlcyIsImlucHV0IiwicmVzdWx0IiwiYXV0aCIsImxvZ2luV2l0aFBpbiIsImNyZWF0ZVBsYW5uaW5nRXZlbnQiLCJyYmFjIiwicmVxdWlyZVBlcm1pc3Npb24iLCJwcm9qZWN0SWQiLCJjcmVhdGVkQnkiLCJwbGFubmluZyIsImF1ZGl0IiwicmVjb3JkRXZlbnQiLCJhY3RvciIsImFjdGlvbiIsInBheWxvYWQiLCJwbGFubmluZ0V2ZW50SWQiLCJ0YXJnZXRMaXR0ZXJhSWQiLCJzdGF0dXMiLCJjcmVhdGVGb3JlY2FzdEV2ZW50IiwiZm9yZWNhc3QiLCJmb3JlY2FzdEV2ZW50SWQiLCJsaW5lQ291bnQiLCJsaW5lcyIsImxlbmd0aCIsImxvYWREYXNoYm9hcmQiLCJ1c2VybmFtZSIsInJlcG9ydCIsImdldERhc2hib2FyZCIsImxvYWRXb3JrUGhhc2VSZXBvcnQiLCJnZXRXb3JrUGhhc2VSZXBvcnQiLCJsb2FkRm9yZWNhc3RSZXBvcnQiLCJnZXRGb3JlY2FzdFJlcG9ydCIsImxvYWRQbGFubmluZ1JlcG9ydCIsImdldFBsYW5uaW5nUmVwb3J0IiwibG9hZFRhcmdldEVzdGltYXRlIiwiZ2V0VGFyZ2V0RXN0aW1hdGUiLCJsb2FkTWFwcGluZ0xpbmVzIiwiZ2V0TWFwcGluZ0xpbmVzIiwibG9hZEF1ZGl0TG9nIiwiZ2V0QXVkaXRMb2ciLCJsb2FkQWRtaW5PdmVydmlldyIsImFkbWluIiwiZ2V0QWRtaW5PdmVydmlldyIsImxvYWRXb3JrUGhhc2VzIiwid29ya1BoYXNlcyIsImxpc3RXb3JrUGhhc2VzIiwiY3JlYXRlV2Vla2x5VXBkYXRlIiwid29ya1BoYXNlSWQiLCJ3ZWVrRW5kaW5nIiwicGVyY2VudENvbXBsZXRlIiwicHJvZ3Jlc3NOb3RlcyIsInJpc2tzIiwidXBkYXRlSWQiLCJ3b3JrUGhhc2VXZWVrbHlVcGRhdGVJZCIsImNyZWF0ZUdob3N0RW50cnkiLCJjb3N0VHlwZSIsImFtb3VudCIsImRlc2NyaXB0aW9uIiwiZ2hvc3RJZCIsImdob3N0Q29zdEVudHJ5SWQiLCJsb2NrQmFzZWxpbmUiLCJ3b3JrUGhhc2VWZXJzaW9uSWQiLCJ0YXJnZXRJbXBvcnRCYXRjaElkIiwibm90ZXMiLCJiYXNlbGluZUlkIiwid29ya1BoYXNlQmFzZWxpbmVJZCIsInByb3Bvc2VDb3JyZWN0aW9uIiwiaXRlbUNvZGUiLCJjb3JyZWN0aW9uSWQiLCJhcHByb3ZlQ29ycmVjdGlvblBtIiwiY29tbWVudCIsImFwcHJvdmVDb3JyZWN0aW9uRmluYWwiLCJlbnN1cmVEZW1vUm9sZVN3aXRjaEFsbG93ZWQiLCJpc0RlbW8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/application/src/usecases.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/admin.ts":
/*!**************************************************!*\
  !*** ../../packages/infrastructure/src/admin.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminRepository: () => (/* binding */ adminRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst adminRepository = ()=>({\n        async getAdminOverview (projectId) {\n            const usersResult = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT DISTINCT username, display_name FROM users WHERE is_active = true ORDER BY username\");\n            const rolesResult = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT role_code, role_name_fi FROM roles ORDER BY role_code\");\n            const assignmentsResult = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(`\n      SELECT 'project' AS scope, u.username, pra.role_code, pra.granted_at\n      FROM project_role_assignments pra\n      JOIN users u ON u.user_id = pra.user_id\n      WHERE pra.project_id = $1::uuid AND pra.revoked_at IS NULL\n      UNION ALL\n      SELECT 'organization' AS scope, u.username, ora.role_code, ora.granted_at\n      FROM organization_role_assignments ora\n      JOIN users u ON u.user_id = ora.user_id\n      JOIN projects p ON p.organization_id = ora.organization_id\n      WHERE p.project_id = $1::uuid AND ora.revoked_at IS NULL\n      ORDER BY username\n      `, [\n                projectId\n            ]);\n            return {\n                users: usersResult.rows,\n                roles: rolesResult.rows,\n                assignments: assignmentsResult.rows\n            };\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2FkbWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzZCO0FBRXRCLE1BQU1DLGtCQUFrQixJQUFrQjtRQUMvQyxNQUFNQyxrQkFBaUJDLFNBQVM7WUFDOUIsTUFBTUMsY0FBYyxNQUFNSiwwQ0FBS0EsQ0FDN0I7WUFHRixNQUFNSyxjQUFjLE1BQU1MLDBDQUFLQSxDQUM3QjtZQUdGLE1BQU1NLG9CQUFvQixNQUFNTiwwQ0FBS0EsQ0FNbkMsQ0FBQzs7Ozs7Ozs7Ozs7O01BWUQsQ0FBQyxFQUNEO2dCQUFDRzthQUFVO1lBR2IsT0FBTztnQkFDTEksT0FBT0gsWUFBWUksSUFBSTtnQkFDdkJDLE9BQU9KLFlBQVlHLElBQUk7Z0JBQ3ZCRSxhQUFhSixrQkFBa0JFLElBQUk7WUFDckM7UUFDRjtJQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2FkbWluLnRzP2Y5ZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBZG1pblBvcnQgfSBmcm9tIFwiQGVubnVzdGUvYXBwbGljYXRpb25cIjtcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSBcIi4vZGJcIjtcblxuZXhwb3J0IGNvbnN0IGFkbWluUmVwb3NpdG9yeSA9ICgpOiBBZG1pblBvcnQgPT4gKHtcbiAgYXN5bmMgZ2V0QWRtaW5PdmVydmlldyhwcm9qZWN0SWQpIHtcbiAgICBjb25zdCB1c2Vyc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgdXNlcm5hbWU6IHN0cmluZzsgZGlzcGxheV9uYW1lOiBzdHJpbmcgfCBudWxsIH0+KFxuICAgICAgXCJTRUxFQ1QgRElTVElOQ1QgdXNlcm5hbWUsIGRpc3BsYXlfbmFtZSBGUk9NIHVzZXJzIFdIRVJFIGlzX2FjdGl2ZSA9IHRydWUgT1JERVIgQlkgdXNlcm5hbWVcIlxuICAgICk7XG5cbiAgICBjb25zdCByb2xlc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgcm9sZV9jb2RlOiBzdHJpbmc7IHJvbGVfbmFtZV9maTogc3RyaW5nIH0+KFxuICAgICAgXCJTRUxFQ1Qgcm9sZV9jb2RlLCByb2xlX25hbWVfZmkgRlJPTSByb2xlcyBPUkRFUiBCWSByb2xlX2NvZGVcIlxuICAgICk7XG5cbiAgICBjb25zdCBhc3NpZ25tZW50c1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5PHtcbiAgICAgIHNjb3BlOiBcInByb2plY3RcIiB8IFwib3JnYW5pemF0aW9uXCI7XG4gICAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgICAgcm9sZV9jb2RlOiBzdHJpbmc7XG4gICAgICBncmFudGVkX2F0OiBzdHJpbmc7XG4gICAgfT4oXG4gICAgICBgXG4gICAgICBTRUxFQ1QgJ3Byb2plY3QnIEFTIHNjb3BlLCB1LnVzZXJuYW1lLCBwcmEucm9sZV9jb2RlLCBwcmEuZ3JhbnRlZF9hdFxuICAgICAgRlJPTSBwcm9qZWN0X3JvbGVfYXNzaWdubWVudHMgcHJhXG4gICAgICBKT0lOIHVzZXJzIHUgT04gdS51c2VyX2lkID0gcHJhLnVzZXJfaWRcbiAgICAgIFdIRVJFIHByYS5wcm9qZWN0X2lkID0gJDE6OnV1aWQgQU5EIHByYS5yZXZva2VkX2F0IElTIE5VTExcbiAgICAgIFVOSU9OIEFMTFxuICAgICAgU0VMRUNUICdvcmdhbml6YXRpb24nIEFTIHNjb3BlLCB1LnVzZXJuYW1lLCBvcmEucm9sZV9jb2RlLCBvcmEuZ3JhbnRlZF9hdFxuICAgICAgRlJPTSBvcmdhbml6YXRpb25fcm9sZV9hc3NpZ25tZW50cyBvcmFcbiAgICAgIEpPSU4gdXNlcnMgdSBPTiB1LnVzZXJfaWQgPSBvcmEudXNlcl9pZFxuICAgICAgSk9JTiBwcm9qZWN0cyBwIE9OIHAub3JnYW5pemF0aW9uX2lkID0gb3JhLm9yZ2FuaXphdGlvbl9pZFxuICAgICAgV0hFUkUgcC5wcm9qZWN0X2lkID0gJDE6OnV1aWQgQU5EIG9yYS5yZXZva2VkX2F0IElTIE5VTExcbiAgICAgIE9SREVSIEJZIHVzZXJuYW1lXG4gICAgICBgLFxuICAgICAgW3Byb2plY3RJZF1cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJzOiB1c2Vyc1Jlc3VsdC5yb3dzLFxuICAgICAgcm9sZXM6IHJvbGVzUmVzdWx0LnJvd3MsXG4gICAgICBhc3NpZ25tZW50czogYXNzaWdubWVudHNSZXN1bHQucm93c1xuICAgIH07XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbInF1ZXJ5IiwiYWRtaW5SZXBvc2l0b3J5IiwiZ2V0QWRtaW5PdmVydmlldyIsInByb2plY3RJZCIsInVzZXJzUmVzdWx0Iiwicm9sZXNSZXN1bHQiLCJhc3NpZ25tZW50c1Jlc3VsdCIsInVzZXJzIiwicm93cyIsInJvbGVzIiwiYXNzaWdubWVudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/admin.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/audit.ts":
/*!**************************************************!*\
  !*** ../../packages/infrastructure/src/audit.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auditRepository: () => (/* binding */ auditRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst auditRepository = ()=>({\n        async recordEvent (input) {\n            await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"INSERT INTO app_audit_log (project_id, actor, action, payload) VALUES ($1::uuid, $2::text, $3::text, $4::jsonb)\", [\n                input.projectId,\n                input.actor,\n                input.action,\n                input.payload\n            ]);\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2F1ZGl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzZCO0FBRXRCLE1BQU1DLGtCQUFrQixJQUFrQjtRQUMvQyxNQUFNQyxhQUFZQyxLQUFLO1lBQ3JCLE1BQU1ILDBDQUFLQSxDQUNULG1IQUNBO2dCQUFDRyxNQUFNQyxTQUFTO2dCQUFFRCxNQUFNRSxLQUFLO2dCQUFFRixNQUFNRyxNQUFNO2dCQUFFSCxNQUFNSSxPQUFPO2FBQUM7UUFFL0Q7SUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy9hdWRpdC50cz9kYmY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQXVkaXRQb3J0IH0gZnJvbSBcIkBlbm51c3RlL2FwcGxpY2F0aW9uXCI7XG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gXCIuL2RiXCI7XG5cbmV4cG9ydCBjb25zdCBhdWRpdFJlcG9zaXRvcnkgPSAoKTogQXVkaXRQb3J0ID0+ICh7XG4gIGFzeW5jIHJlY29yZEV2ZW50KGlucHV0KSB7XG4gICAgYXdhaXQgcXVlcnkoXG4gICAgICBcIklOU0VSVCBJTlRPIGFwcF9hdWRpdF9sb2cgKHByb2plY3RfaWQsIGFjdG9yLCBhY3Rpb24sIHBheWxvYWQpIFZBTFVFUyAoJDE6OnV1aWQsICQyOjp0ZXh0LCAkMzo6dGV4dCwgJDQ6Ompzb25iKVwiLFxuICAgICAgW2lucHV0LnByb2plY3RJZCwgaW5wdXQuYWN0b3IsIGlucHV0LmFjdGlvbiwgaW5wdXQucGF5bG9hZF1cbiAgICApO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJxdWVyeSIsImF1ZGl0UmVwb3NpdG9yeSIsInJlY29yZEV2ZW50IiwiaW5wdXQiLCJwcm9qZWN0SWQiLCJhY3RvciIsImFjdGlvbiIsInBheWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/audit.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/auth.ts":
/*!*************************************************!*\
  !*** ../../packages/infrastructure/src/auth.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authRepository: () => (/* binding */ authRepository)\n/* harmony export */ });\n/* harmony import */ var _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ennuste/shared */ \"(rsc)/../../packages/shared/src/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_1__]);\n_db__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst SESSION_TABLE_WARNING = \"Session storage is stateless; logout clears cookie only.\";\nconst authRepository = ()=>({\n        async loginWithPin (input) {\n            const userResult = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT user_id, username, display_name FROM users WHERE username = $1 AND is_active = true AND pin_hash IS NOT NULL AND pin_hash = crypt($2, pin_hash)\", [\n                input.username,\n                input.pin\n            ]);\n            const user = userResult.rows[0];\n            if (!user) {\n                throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Virheellinen tunnus tai PIN\");\n            }\n            let projectId = input.projectId ?? null;\n            if (projectId) {\n                const allowed = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT rbac_user_has_permission($1::uuid, $2::text, 'REPORT_READ') AS allowed\", [\n                    projectId,\n                    user.username\n                ]);\n                if (!allowed.rows[0]?.allowed) {\n                    throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Ei oikeutta projektiin\");\n                }\n            }\n            if (!projectId) {\n                const projectResult = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT p.project_id, p.organization_id FROM v_rbac_user_project_permissions v JOIN projects p ON p.project_id = v.project_id WHERE v.username = $1 LIMIT 1\", [\n                    user.username\n                ]);\n                projectId = projectResult.rows[0]?.project_id ?? null;\n            }\n            if (!projectId) {\n                throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Kayttajalla ei ole yhtaan projektia\");\n            }\n            const orgResult = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT organization_id FROM projects WHERE project_id = $1\", [\n                projectId\n            ]);\n            const organizationId = orgResult.rows[0]?.organization_id;\n            if (!organizationId) {\n                throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Projektin organisaatiota ei loytynyt\");\n            }\n            const permissionsResult = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT permission_code FROM v_rbac_user_project_permissions WHERE project_id = $1::uuid AND username = $2::text\", [\n                projectId,\n                user.username\n            ]);\n            const session = {\n                userId: user.user_id,\n                username: user.username,\n                displayName: user.display_name,\n                organizationId,\n                projectId,\n                permissions: permissionsResult.rows.map((row)=>row.permission_code)\n            };\n            return {\n                session\n            };\n        },\n        async getSession () {\n            throw new Error(SESSION_TABLE_WARNING);\n        },\n        async createSession () {\n            throw new Error(SESSION_TABLE_WARNING);\n        },\n        async deleteSession () {\n            throw new Error(SESSION_TABLE_WARNING);\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRTRDO0FBQ2Y7QUFFN0IsTUFBTUUsd0JBQXdCO0FBRXZCLE1BQU1DLGlCQUFpQixJQUFpQjtRQUM3QyxNQUFNQyxjQUFhQyxLQUFpQjtZQUNsQyxNQUFNQyxhQUFhLE1BQU1MLDBDQUFLQSxDQUs1QiwwSkFDQTtnQkFBQ0ksTUFBTUUsUUFBUTtnQkFBRUYsTUFBTUcsR0FBRzthQUFDO1lBRzdCLE1BQU1DLE9BQU9ILFdBQVdJLElBQUksQ0FBQyxFQUFFO1lBQy9CLElBQUksQ0FBQ0QsTUFBTTtnQkFDVCxNQUFNLElBQUlULHNEQUFTQSxDQUFDO1lBQ3RCO1lBRUEsSUFBSVcsWUFBWU4sTUFBTU0sU0FBUyxJQUFJO1lBQ25DLElBQUlBLFdBQVc7Z0JBQ2IsTUFBTUMsVUFBVSxNQUFNWCwwQ0FBS0EsQ0FDekIsaUZBQ0E7b0JBQUNVO29CQUFXRixLQUFLRixRQUFRO2lCQUFDO2dCQUU1QixJQUFJLENBQUNLLFFBQVFGLElBQUksQ0FBQyxFQUFFLEVBQUVFLFNBQVM7b0JBQzdCLE1BQU0sSUFBSVosc0RBQVNBLENBQUM7Z0JBQ3RCO1lBQ0Y7WUFFQSxJQUFJLENBQUNXLFdBQVc7Z0JBQ2QsTUFBTUUsZ0JBQWdCLE1BQU1aLDBDQUFLQSxDQUMvQiw4SkFDQTtvQkFBQ1EsS0FBS0YsUUFBUTtpQkFBQztnQkFFakJJLFlBQVlFLGNBQWNILElBQUksQ0FBQyxFQUFFLEVBQUVJLGNBQWM7WUFDbkQ7WUFFQSxJQUFJLENBQUNILFdBQVc7Z0JBQ2QsTUFBTSxJQUFJWCxzREFBU0EsQ0FBQztZQUN0QjtZQUVBLE1BQU1lLFlBQVksTUFBTWQsMENBQUtBLENBQzNCLDhEQUNBO2dCQUFDVTthQUFVO1lBR2IsTUFBTUssaUJBQWlCRCxVQUFVTCxJQUFJLENBQUMsRUFBRSxFQUFFTztZQUMxQyxJQUFJLENBQUNELGdCQUFnQjtnQkFDbkIsTUFBTSxJQUFJaEIsc0RBQVNBLENBQUM7WUFDdEI7WUFFQSxNQUFNa0Isb0JBQW9CLE1BQU1qQiwwQ0FBS0EsQ0FDbkMsbUhBQ0E7Z0JBQUNVO2dCQUFXRixLQUFLRixRQUFRO2FBQUM7WUFHNUIsTUFBTVksVUFBdUI7Z0JBQzNCQyxRQUFRWCxLQUFLWSxPQUFPO2dCQUNwQmQsVUFBVUUsS0FBS0YsUUFBUTtnQkFDdkJlLGFBQWFiLEtBQUtjLFlBQVk7Z0JBQzlCUDtnQkFDQUw7Z0JBQ0FhLGFBQWFOLGtCQUFrQlIsSUFBSSxDQUFDZSxHQUFHLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUMsZUFBZTtZQUN0RTtZQUVBLE9BQU87Z0JBQUVSO1lBQVE7UUFDbkI7UUFDQSxNQUFNUztZQUNKLE1BQU0sSUFBSUMsTUFBTTNCO1FBQ2xCO1FBQ0EsTUFBTTRCO1lBQ0osTUFBTSxJQUFJRCxNQUFNM0I7UUFDbEI7UUFDQSxNQUFNNkI7WUFDSixNQUFNLElBQUlGLE1BQU0zQjtRQUNsQjtJQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2F1dGgudHM/MzAwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEF1dGhQb3J0LCBMb2dpbklucHV0LCBMb2dpblJlc3VsdCB9IGZyb20gXCJAZW5udXN0ZS9hcHBsaWNhdGlvblwiO1xuaW1wb3J0IHR5cGUgeyBTZXNzaW9uVXNlciB9IGZyb20gXCJAZW5udXN0ZS9zaGFyZWRcIjtcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gXCJAZW5udXN0ZS9zaGFyZWRcIjtcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSBcIi4vZGJcIjtcblxuY29uc3QgU0VTU0lPTl9UQUJMRV9XQVJOSU5HID0gXCJTZXNzaW9uIHN0b3JhZ2UgaXMgc3RhdGVsZXNzOyBsb2dvdXQgY2xlYXJzIGNvb2tpZSBvbmx5LlwiO1xuXG5leHBvcnQgY29uc3QgYXV0aFJlcG9zaXRvcnkgPSAoKTogQXV0aFBvcnQgPT4gKHtcbiAgYXN5bmMgbG9naW5XaXRoUGluKGlucHV0OiBMb2dpbklucHV0KTogUHJvbWlzZTxMb2dpblJlc3VsdD4ge1xuICAgIGNvbnN0IHVzZXJSZXN1bHQgPSBhd2FpdCBxdWVyeTx7XG4gICAgICB1c2VyX2lkOiBzdHJpbmc7XG4gICAgICB1c2VybmFtZTogc3RyaW5nO1xuICAgICAgZGlzcGxheV9uYW1lOiBzdHJpbmcgfCBudWxsO1xuICAgIH0+KFxuICAgICAgXCJTRUxFQ1QgdXNlcl9pZCwgdXNlcm5hbWUsIGRpc3BsYXlfbmFtZSBGUk9NIHVzZXJzIFdIRVJFIHVzZXJuYW1lID0gJDEgQU5EIGlzX2FjdGl2ZSA9IHRydWUgQU5EIHBpbl9oYXNoIElTIE5PVCBOVUxMIEFORCBwaW5faGFzaCA9IGNyeXB0KCQyLCBwaW5faGFzaClcIixcbiAgICAgIFtpbnB1dC51c2VybmFtZSwgaW5wdXQucGluXVxuICAgICk7XG5cbiAgICBjb25zdCB1c2VyID0gdXNlclJlc3VsdC5yb3dzWzBdO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIlZpcmhlZWxsaW5lbiB0dW5udXMgdGFpIFBJTlwiKTtcbiAgICB9XG5cbiAgICBsZXQgcHJvamVjdElkID0gaW5wdXQucHJvamVjdElkID8/IG51bGw7XG4gICAgaWYgKHByb2plY3RJZCkge1xuICAgICAgY29uc3QgYWxsb3dlZCA9IGF3YWl0IHF1ZXJ5PHsgYWxsb3dlZDogYm9vbGVhbiB9PihcbiAgICAgICAgXCJTRUxFQ1QgcmJhY191c2VyX2hhc19wZXJtaXNzaW9uKCQxOjp1dWlkLCAkMjo6dGV4dCwgJ1JFUE9SVF9SRUFEJykgQVMgYWxsb3dlZFwiLFxuICAgICAgICBbcHJvamVjdElkLCB1c2VyLnVzZXJuYW1lXVxuICAgICAgKTtcbiAgICAgIGlmICghYWxsb3dlZC5yb3dzWzBdPy5hbGxvd2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJFaSBvaWtldXR0YSBwcm9qZWt0aWluXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcHJvamVjdElkKSB7XG4gICAgICBjb25zdCBwcm9qZWN0UmVzdWx0ID0gYXdhaXQgcXVlcnk8eyBwcm9qZWN0X2lkOiBzdHJpbmc7IG9yZ2FuaXphdGlvbl9pZDogc3RyaW5nIH0+KFxuICAgICAgICBcIlNFTEVDVCBwLnByb2plY3RfaWQsIHAub3JnYW5pemF0aW9uX2lkIEZST00gdl9yYmFjX3VzZXJfcHJvamVjdF9wZXJtaXNzaW9ucyB2IEpPSU4gcHJvamVjdHMgcCBPTiBwLnByb2plY3RfaWQgPSB2LnByb2plY3RfaWQgV0hFUkUgdi51c2VybmFtZSA9ICQxIExJTUlUIDFcIixcbiAgICAgICAgW3VzZXIudXNlcm5hbWVdXG4gICAgICApO1xuICAgICAgcHJvamVjdElkID0gcHJvamVjdFJlc3VsdC5yb3dzWzBdPy5wcm9qZWN0X2lkID8/IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFwcm9qZWN0SWQpIHtcbiAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJLYXl0dGFqYWxsYSBlaSBvbGUgeWh0YWFuIHByb2pla3RpYVwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmdSZXN1bHQgPSBhd2FpdCBxdWVyeTx7IG9yZ2FuaXphdGlvbl9pZDogc3RyaW5nIH0+KFxuICAgICAgXCJTRUxFQ1Qgb3JnYW5pemF0aW9uX2lkIEZST00gcHJvamVjdHMgV0hFUkUgcHJvamVjdF9pZCA9ICQxXCIsXG4gICAgICBbcHJvamVjdElkXVxuICAgICk7XG5cbiAgICBjb25zdCBvcmdhbml6YXRpb25JZCA9IG9yZ1Jlc3VsdC5yb3dzWzBdPy5vcmdhbml6YXRpb25faWQ7XG4gICAgaWYgKCFvcmdhbml6YXRpb25JZCkge1xuICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIlByb2pla3RpbiBvcmdhbmlzYWF0aW90YSBlaSBsb3l0eW55dFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBwZXJtaXNzaW9uc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgcGVybWlzc2lvbl9jb2RlOiBzdHJpbmcgfT4oXG4gICAgICBcIlNFTEVDVCBwZXJtaXNzaW9uX2NvZGUgRlJPTSB2X3JiYWNfdXNlcl9wcm9qZWN0X3Blcm1pc3Npb25zIFdIRVJFIHByb2plY3RfaWQgPSAkMTo6dXVpZCBBTkQgdXNlcm5hbWUgPSAkMjo6dGV4dFwiLFxuICAgICAgW3Byb2plY3RJZCwgdXNlci51c2VybmFtZV1cbiAgICApO1xuXG4gICAgY29uc3Qgc2Vzc2lvbjogU2Vzc2lvblVzZXIgPSB7XG4gICAgICB1c2VySWQ6IHVzZXIudXNlcl9pZCxcbiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheV9uYW1lLFxuICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICBwcm9qZWN0SWQsXG4gICAgICBwZXJtaXNzaW9uczogcGVybWlzc2lvbnNSZXN1bHQucm93cy5tYXAoKHJvdykgPT4gcm93LnBlcm1pc3Npb25fY29kZSBhcyBTZXNzaW9uVXNlcltcInBlcm1pc3Npb25zXCJdW251bWJlcl0pXG4gICAgfTtcblxuICAgIHJldHVybiB7IHNlc3Npb24gfTtcbiAgfSxcbiAgYXN5bmMgZ2V0U2Vzc2lvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoU0VTU0lPTl9UQUJMRV9XQVJOSU5HKTtcbiAgfSxcbiAgYXN5bmMgY3JlYXRlU2Vzc2lvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoU0VTU0lPTl9UQUJMRV9XQVJOSU5HKTtcbiAgfSxcbiAgYXN5bmMgZGVsZXRlU2Vzc2lvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoU0VTU0lPTl9UQUJMRV9XQVJOSU5HKTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwicXVlcnkiLCJTRVNTSU9OX1RBQkxFX1dBUk5JTkciLCJhdXRoUmVwb3NpdG9yeSIsImxvZ2luV2l0aFBpbiIsImlucHV0IiwidXNlclJlc3VsdCIsInVzZXJuYW1lIiwicGluIiwidXNlciIsInJvd3MiLCJwcm9qZWN0SWQiLCJhbGxvd2VkIiwicHJvamVjdFJlc3VsdCIsInByb2plY3RfaWQiLCJvcmdSZXN1bHQiLCJvcmdhbml6YXRpb25JZCIsIm9yZ2FuaXphdGlvbl9pZCIsInBlcm1pc3Npb25zUmVzdWx0Iiwic2Vzc2lvbiIsInVzZXJJZCIsInVzZXJfaWQiLCJkaXNwbGF5TmFtZSIsImRpc3BsYXlfbmFtZSIsInBlcm1pc3Npb25zIiwibWFwIiwicm93IiwicGVybWlzc2lvbl9jb2RlIiwiZ2V0U2Vzc2lvbiIsIkVycm9yIiwiY3JlYXRlU2Vzc2lvbiIsImRlbGV0ZVNlc3Npb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/auth.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/db.ts":
/*!***********************************************!*\
  !*** ../../packages/infrastructure/src/db.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pool: () => (/* binding */ pool),\n/* harmony export */   query: () => (/* binding */ query),\n/* harmony export */   withTransaction: () => (/* binding */ withTransaction)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst connectionString = process.env.DATABASE_URL;\nif (!connectionString) {\n    console.warn(\"DATABASE_URL is not set; database calls will fail.\");\n}\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString\n});\nconst query = async (text, params = [])=>{\n    const result = await pool.query(text, params);\n    return result;\n};\nconst withTransaction = async (fn)=>{\n    return fn(pool);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEI7QUFFMUIsTUFBTUMsbUJBQW1CQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7QUFFakQsSUFBSSxDQUFDSCxrQkFBa0I7SUFDckJJLFFBQVFDLElBQUksQ0FBQztBQUNmO0FBRU8sTUFBTUMsT0FBTyxJQUFJUCxvQ0FBSUEsQ0FBQztJQUMzQkM7QUFDRixHQUFHO0FBRUksTUFBTU8sUUFBUSxPQUFVQyxNQUFjQyxTQUFvQixFQUFFO0lBQ2pFLE1BQU1DLFNBQVMsTUFBTUosS0FBS0MsS0FBSyxDQUFJQyxNQUFNQztJQUN6QyxPQUFPQztBQUNULEVBQUU7QUFFSyxNQUFNQyxrQkFBa0IsT0FBVUM7SUFDdkMsT0FBT0EsR0FBR047QUFDWixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy9kYi50cz9kM2YxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvb2wgfSBmcm9tIFwicGdcIjtcblxuY29uc3QgY29ubmVjdGlvblN0cmluZyA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcblxuaWYgKCFjb25uZWN0aW9uU3RyaW5nKSB7XG4gIGNvbnNvbGUud2FybihcIkRBVEFCQVNFX1VSTCBpcyBub3Qgc2V0OyBkYXRhYmFzZSBjYWxscyB3aWxsIGZhaWwuXCIpO1xufVxuXG5leHBvcnQgY29uc3QgcG9vbCA9IG5ldyBQb29sKHtcbiAgY29ubmVjdGlvblN0cmluZ1xufSk7XG5cbmV4cG9ydCBjb25zdCBxdWVyeSA9IGFzeW5jIDxUPih0ZXh0OiBzdHJpbmcsIHBhcmFtczogdW5rbm93bltdID0gW10pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeTxUPih0ZXh0LCBwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhUcmFuc2FjdGlvbiA9IGFzeW5jIDxUPihmbjogKGNsaWVudDogUG9vbCkgPT4gUHJvbWlzZTxUPikgPT4ge1xuICByZXR1cm4gZm4ocG9vbCk7XG59O1xuIl0sIm5hbWVzIjpbIlBvb2wiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImNvbnNvbGUiLCJ3YXJuIiwicG9vbCIsInF1ZXJ5IiwidGV4dCIsInBhcmFtcyIsInJlc3VsdCIsIndpdGhUcmFuc2FjdGlvbiIsImZuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/db.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/forecast.ts":
/*!*****************************************************!*\
  !*** ../../packages/infrastructure/src/forecast.ts ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   forecastRepository: () => (/* binding */ forecastRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst forecastRepository = ()=>({\n        async createForecastEvent (input) {\n            const client = await _db__WEBPACK_IMPORTED_MODULE_0__.pool.connect();\n            try {\n                await client.query(\"BEGIN\");\n                const eventResult = await client.query(`\n          INSERT INTO forecast_events (\n            project_id,\n            target_littera_id,\n            mapping_version_id,\n            source,\n            comment,\n            technical_progress,\n            financial_progress,\n            kpi_value,\n            created_by\n          ) VALUES ($1::uuid, $2::uuid, $3::uuid, 'UI', $4, $5, $6, $7, $8)\n          RETURNING forecast_event_id\n        `, [\n                    input.projectId,\n                    input.targetLitteraId,\n                    input.mappingVersionId ?? null,\n                    input.comment ?? null,\n                    input.technicalProgress ?? null,\n                    input.financialProgress ?? null,\n                    input.kpiValue ?? null,\n                    input.createdBy\n                ]);\n                const forecastEventId = eventResult.rows[0].forecast_event_id;\n                for (const line of input.lines){\n                    await client.query(`\n            INSERT INTO forecast_event_lines (\n              forecast_event_id,\n              cost_type,\n              forecast_value,\n              memo_general,\n              memo_procurement,\n              memo_calculation\n            ) VALUES ($1::uuid, $2::cost_type, $3, $4, $5, $6)\n          `, [\n                        forecastEventId,\n                        line.costType,\n                        line.forecastValue,\n                        line.memoGeneral ?? null,\n                        line.memoProcurement ?? null,\n                        line.memoCalculation ?? null\n                    ]);\n                }\n                await client.query(\"COMMIT\");\n                return {\n                    forecastEventId\n                };\n            } catch (error) {\n                await client.query(\"ROLLBACK\");\n                throw error;\n            } finally{\n                client.release();\n            }\n        },\n        async listForecastCurrent (projectId) {\n            const result = await _db__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT * FROM v_report_forecast_current WHERE project_id = $1::uuid ORDER BY event_time DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2ZvcmVjYXN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzRCO0FBRXJCLE1BQU1DLHFCQUFxQixJQUFxQjtRQUNyRCxNQUFNQyxxQkFBb0JDLEtBQUs7WUFDN0IsTUFBTUMsU0FBUyxNQUFNSixxQ0FBSUEsQ0FBQ0ssT0FBTztZQUNqQyxJQUFJO2dCQUNGLE1BQU1ELE9BQU9FLEtBQUssQ0FBQztnQkFDbkIsTUFBTUMsY0FBYyxNQUFNSCxPQUFPRSxLQUFLLENBQ3BDLENBQUM7Ozs7Ozs7Ozs7Ozs7UUFhRCxDQUFDLEVBQ0Q7b0JBQ0VILE1BQU1LLFNBQVM7b0JBQ2ZMLE1BQU1NLGVBQWU7b0JBQ3JCTixNQUFNTyxnQkFBZ0IsSUFBSTtvQkFDMUJQLE1BQU1RLE9BQU8sSUFBSTtvQkFDakJSLE1BQU1TLGlCQUFpQixJQUFJO29CQUMzQlQsTUFBTVUsaUJBQWlCLElBQUk7b0JBQzNCVixNQUFNVyxRQUFRLElBQUk7b0JBQ2xCWCxNQUFNWSxTQUFTO2lCQUNoQjtnQkFHSCxNQUFNQyxrQkFBa0JULFlBQVlVLElBQUksQ0FBQyxFQUFFLENBQUNDLGlCQUFpQjtnQkFFN0QsS0FBSyxNQUFNQyxRQUFRaEIsTUFBTWlCLEtBQUssQ0FBRTtvQkFDOUIsTUFBTWhCLE9BQU9FLEtBQUssQ0FDaEIsQ0FBQzs7Ozs7Ozs7O1VBU0QsQ0FBQyxFQUNEO3dCQUNFVTt3QkFDQUcsS0FBS0UsUUFBUTt3QkFDYkYsS0FBS0csYUFBYTt3QkFDbEJILEtBQUtJLFdBQVcsSUFBSTt3QkFDcEJKLEtBQUtLLGVBQWUsSUFBSTt3QkFDeEJMLEtBQUtNLGVBQWUsSUFBSTtxQkFDekI7Z0JBRUw7Z0JBRUEsTUFBTXJCLE9BQU9FLEtBQUssQ0FBQztnQkFDbkIsT0FBTztvQkFBRVU7Z0JBQWdCO1lBQzNCLEVBQUUsT0FBT1UsT0FBTztnQkFDZCxNQUFNdEIsT0FBT0UsS0FBSyxDQUFDO2dCQUNuQixNQUFNb0I7WUFDUixTQUFVO2dCQUNSdEIsT0FBT3VCLE9BQU87WUFDaEI7UUFDRjtRQUNBLE1BQU1DLHFCQUFvQnBCLFNBQVM7WUFDakMsTUFBTXFCLFNBQVMsTUFBTTdCLHFDQUFJQSxDQUFDTSxLQUFLLENBQzdCLGdHQUNBO2dCQUFDRTthQUFVO1lBRWIsT0FBT3FCLE9BQU9aLElBQUk7UUFDcEI7SUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy9mb3JlY2FzdC50cz8xYzdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRm9yZWNhc3RQb3J0IH0gZnJvbSBcIkBlbm51c3RlL2FwcGxpY2F0aW9uXCI7XG5pbXBvcnQgeyBwb29sIH0gZnJvbSBcIi4vZGJcIjtcblxuZXhwb3J0IGNvbnN0IGZvcmVjYXN0UmVwb3NpdG9yeSA9ICgpOiBGb3JlY2FzdFBvcnQgPT4gKHtcbiAgYXN5bmMgY3JlYXRlRm9yZWNhc3RFdmVudChpbnB1dCkge1xuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHBvb2wuY29ubmVjdCgpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJCRUdJTlwiKTtcbiAgICAgIGNvbnN0IGV2ZW50UmVzdWx0ID0gYXdhaXQgY2xpZW50LnF1ZXJ5PHsgZm9yZWNhc3RfZXZlbnRfaWQ6IHN0cmluZyB9PihcbiAgICAgICAgYFxuICAgICAgICAgIElOU0VSVCBJTlRPIGZvcmVjYXN0X2V2ZW50cyAoXG4gICAgICAgICAgICBwcm9qZWN0X2lkLFxuICAgICAgICAgICAgdGFyZ2V0X2xpdHRlcmFfaWQsXG4gICAgICAgICAgICBtYXBwaW5nX3ZlcnNpb25faWQsXG4gICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICBjb21tZW50LFxuICAgICAgICAgICAgdGVjaG5pY2FsX3Byb2dyZXNzLFxuICAgICAgICAgICAgZmluYW5jaWFsX3Byb2dyZXNzLFxuICAgICAgICAgICAga3BpX3ZhbHVlLFxuICAgICAgICAgICAgY3JlYXRlZF9ieVxuICAgICAgICAgICkgVkFMVUVTICgkMTo6dXVpZCwgJDI6OnV1aWQsICQzOjp1dWlkLCAnVUknLCAkNCwgJDUsICQ2LCAkNywgJDgpXG4gICAgICAgICAgUkVUVVJOSU5HIGZvcmVjYXN0X2V2ZW50X2lkXG4gICAgICAgIGAsXG4gICAgICAgIFtcbiAgICAgICAgICBpbnB1dC5wcm9qZWN0SWQsXG4gICAgICAgICAgaW5wdXQudGFyZ2V0TGl0dGVyYUlkLFxuICAgICAgICAgIGlucHV0Lm1hcHBpbmdWZXJzaW9uSWQgPz8gbnVsbCxcbiAgICAgICAgICBpbnB1dC5jb21tZW50ID8/IG51bGwsXG4gICAgICAgICAgaW5wdXQudGVjaG5pY2FsUHJvZ3Jlc3MgPz8gbnVsbCxcbiAgICAgICAgICBpbnB1dC5maW5hbmNpYWxQcm9ncmVzcyA/PyBudWxsLFxuICAgICAgICAgIGlucHV0LmtwaVZhbHVlID8/IG51bGwsXG4gICAgICAgICAgaW5wdXQuY3JlYXRlZEJ5XG4gICAgICAgIF1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGZvcmVjYXN0RXZlbnRJZCA9IGV2ZW50UmVzdWx0LnJvd3NbMF0uZm9yZWNhc3RfZXZlbnRfaWQ7XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBpbnB1dC5saW5lcykge1xuICAgICAgICBhd2FpdCBjbGllbnQucXVlcnkoXG4gICAgICAgICAgYFxuICAgICAgICAgICAgSU5TRVJUIElOVE8gZm9yZWNhc3RfZXZlbnRfbGluZXMgKFxuICAgICAgICAgICAgICBmb3JlY2FzdF9ldmVudF9pZCxcbiAgICAgICAgICAgICAgY29zdF90eXBlLFxuICAgICAgICAgICAgICBmb3JlY2FzdF92YWx1ZSxcbiAgICAgICAgICAgICAgbWVtb19nZW5lcmFsLFxuICAgICAgICAgICAgICBtZW1vX3Byb2N1cmVtZW50LFxuICAgICAgICAgICAgICBtZW1vX2NhbGN1bGF0aW9uXG4gICAgICAgICAgICApIFZBTFVFUyAoJDE6OnV1aWQsICQyOjpjb3N0X3R5cGUsICQzLCAkNCwgJDUsICQ2KVxuICAgICAgICAgIGAsXG4gICAgICAgICAgW1xuICAgICAgICAgICAgZm9yZWNhc3RFdmVudElkLFxuICAgICAgICAgICAgbGluZS5jb3N0VHlwZSxcbiAgICAgICAgICAgIGxpbmUuZm9yZWNhc3RWYWx1ZSxcbiAgICAgICAgICAgIGxpbmUubWVtb0dlbmVyYWwgPz8gbnVsbCxcbiAgICAgICAgICAgIGxpbmUubWVtb1Byb2N1cmVtZW50ID8/IG51bGwsXG4gICAgICAgICAgICBsaW5lLm1lbW9DYWxjdWxhdGlvbiA/PyBudWxsXG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBhd2FpdCBjbGllbnQucXVlcnkoXCJDT01NSVRcIik7XG4gICAgICByZXR1cm4geyBmb3JlY2FzdEV2ZW50SWQgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgYXdhaXQgY2xpZW50LnF1ZXJ5KFwiUk9MTEJBQ0tcIik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xpZW50LnJlbGVhc2UoKTtcbiAgICB9XG4gIH0sXG4gIGFzeW5jIGxpc3RGb3JlY2FzdEN1cnJlbnQocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShcbiAgICAgIFwiU0VMRUNUICogRlJPTSB2X3JlcG9ydF9mb3JlY2FzdF9jdXJyZW50IFdIRVJFIHByb2plY3RfaWQgPSAkMTo6dXVpZCBPUkRFUiBCWSBldmVudF90aW1lIERFU0NcIixcbiAgICAgIFtwcm9qZWN0SWRdXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnJvd3M7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbInBvb2wiLCJmb3JlY2FzdFJlcG9zaXRvcnkiLCJjcmVhdGVGb3JlY2FzdEV2ZW50IiwiaW5wdXQiLCJjbGllbnQiLCJjb25uZWN0IiwicXVlcnkiLCJldmVudFJlc3VsdCIsInByb2plY3RJZCIsInRhcmdldExpdHRlcmFJZCIsIm1hcHBpbmdWZXJzaW9uSWQiLCJjb21tZW50IiwidGVjaG5pY2FsUHJvZ3Jlc3MiLCJmaW5hbmNpYWxQcm9ncmVzcyIsImtwaVZhbHVlIiwiY3JlYXRlZEJ5IiwiZm9yZWNhc3RFdmVudElkIiwicm93cyIsImZvcmVjYXN0X2V2ZW50X2lkIiwibGluZSIsImxpbmVzIiwiY29zdFR5cGUiLCJmb3JlY2FzdFZhbHVlIiwibWVtb0dlbmVyYWwiLCJtZW1vUHJvY3VyZW1lbnQiLCJtZW1vQ2FsY3VsYXRpb24iLCJlcnJvciIsInJlbGVhc2UiLCJsaXN0Rm9yZWNhc3RDdXJyZW50IiwicmVzdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/forecast.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/index.ts":
/*!**************************************************!*\
  !*** ../../packages/infrastructure/src/index.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminRepository: () => (/* reexport safe */ _admin__WEBPACK_IMPORTED_MODULE_7__.adminRepository),\n/* harmony export */   auditRepository: () => (/* reexport safe */ _audit__WEBPACK_IMPORTED_MODULE_6__.auditRepository),\n/* harmony export */   authRepository: () => (/* reexport safe */ _auth__WEBPACK_IMPORTED_MODULE_1__.authRepository),\n/* harmony export */   forecastRepository: () => (/* reexport safe */ _forecast__WEBPACK_IMPORTED_MODULE_4__.forecastRepository),\n/* harmony export */   planningRepository: () => (/* reexport safe */ _planning__WEBPACK_IMPORTED_MODULE_3__.planningRepository),\n/* harmony export */   pool: () => (/* reexport safe */ _db__WEBPACK_IMPORTED_MODULE_0__.pool),\n/* harmony export */   query: () => (/* reexport safe */ _db__WEBPACK_IMPORTED_MODULE_0__.query),\n/* harmony export */   rbacRepository: () => (/* reexport safe */ _rbac__WEBPACK_IMPORTED_MODULE_2__.rbacRepository),\n/* harmony export */   reportRepository: () => (/* reexport safe */ _report__WEBPACK_IMPORTED_MODULE_5__.reportRepository),\n/* harmony export */   withTransaction: () => (/* reexport safe */ _db__WEBPACK_IMPORTED_MODULE_0__.withTransaction),\n/* harmony export */   workPhaseRepository: () => (/* reexport safe */ _workPhases__WEBPACK_IMPORTED_MODULE_8__.workPhaseRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth */ \"(rsc)/../../packages/infrastructure/src/auth.ts\");\n/* harmony import */ var _rbac__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rbac */ \"(rsc)/../../packages/infrastructure/src/rbac.ts\");\n/* harmony import */ var _planning__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./planning */ \"(rsc)/../../packages/infrastructure/src/planning.ts\");\n/* harmony import */ var _forecast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./forecast */ \"(rsc)/../../packages/infrastructure/src/forecast.ts\");\n/* harmony import */ var _report__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./report */ \"(rsc)/../../packages/infrastructure/src/report.ts\");\n/* harmony import */ var _audit__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./audit */ \"(rsc)/../../packages/infrastructure/src/audit.ts\");\n/* harmony import */ var _admin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./admin */ \"(rsc)/../../packages/infrastructure/src/admin.ts\");\n/* harmony import */ var _workPhases__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./workPhases */ \"(rsc)/../../packages/infrastructure/src/workPhases.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__, _auth__WEBPACK_IMPORTED_MODULE_1__, _rbac__WEBPACK_IMPORTED_MODULE_2__, _planning__WEBPACK_IMPORTED_MODULE_3__, _forecast__WEBPACK_IMPORTED_MODULE_4__, _report__WEBPACK_IMPORTED_MODULE_5__, _audit__WEBPACK_IMPORTED_MODULE_6__, _admin__WEBPACK_IMPORTED_MODULE_7__, _workPhases__WEBPACK_IMPORTED_MODULE_8__]);\n([_db__WEBPACK_IMPORTED_MODULE_0__, _auth__WEBPACK_IMPORTED_MODULE_1__, _rbac__WEBPACK_IMPORTED_MODULE_2__, _planning__WEBPACK_IMPORTED_MODULE_3__, _forecast__WEBPACK_IMPORTED_MODULE_4__, _report__WEBPACK_IMPORTED_MODULE_5__, _audit__WEBPACK_IMPORTED_MODULE_6__, _admin__WEBPACK_IMPORTED_MODULE_7__, _workPhases__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFCO0FBQ0U7QUFDQTtBQUNJO0FBQ0E7QUFDRjtBQUNEO0FBQ0E7QUFDSyIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uLi8uLi9wYWNrYWdlcy9pbmZyYXN0cnVjdHVyZS9zcmMvaW5kZXgudHM/NDRmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9kYlwiO1xuZXhwb3J0ICogZnJvbSBcIi4vYXV0aFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmJhY1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGxhbm5pbmdcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2ZvcmVjYXN0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZXBvcnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2F1ZGl0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9hZG1pblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vd29ya1BoYXNlc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/planning.ts":
/*!*****************************************************!*\
  !*** ../../packages/infrastructure/src/planning.ts ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   planningRepository: () => (/* binding */ planningRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst planningRepository = ()=>({\n        async createPlanningEvent (input) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(`\n        INSERT INTO planning_events (\n          project_id,\n          target_littera_id,\n          status,\n          summary,\n          observations,\n          risks,\n          decisions,\n          created_by\n        ) VALUES ($1::uuid, $2::uuid, $3::plan_status, $4, $5, $6, $7, $8)\n        RETURNING planning_event_id\n      `, [\n                input.projectId,\n                input.targetLitteraId,\n                input.status,\n                input.summary ?? null,\n                input.observations ?? null,\n                input.risks ?? null,\n                input.decisions ?? null,\n                input.createdBy\n            ]);\n            return {\n                planningEventId: result.rows[0].planning_event_id\n            };\n        },\n        async listPlanningCurrent (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM v_report_planning_current WHERE project_id = $1::uuid ORDER BY event_time DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL3BsYW5uaW5nLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQzZCO0FBRXRCLE1BQU1DLHFCQUFxQixJQUFxQjtRQUNyRCxNQUFNQyxxQkFBb0JDLEtBQUs7WUFDN0IsTUFBTUMsU0FBUyxNQUFNSiwwQ0FBS0EsQ0FDeEIsQ0FBQzs7Ozs7Ozs7Ozs7O01BWUQsQ0FBQyxFQUNEO2dCQUNFRyxNQUFNRSxTQUFTO2dCQUNmRixNQUFNRyxlQUFlO2dCQUNyQkgsTUFBTUksTUFBTTtnQkFDWkosTUFBTUssT0FBTyxJQUFJO2dCQUNqQkwsTUFBTU0sWUFBWSxJQUFJO2dCQUN0Qk4sTUFBTU8sS0FBSyxJQUFJO2dCQUNmUCxNQUFNUSxTQUFTLElBQUk7Z0JBQ25CUixNQUFNUyxTQUFTO2FBQ2hCO1lBR0gsT0FBTztnQkFBRUMsaUJBQWlCVCxPQUFPVSxJQUFJLENBQUMsRUFBRSxDQUFDQyxpQkFBaUI7WUFBQztRQUM3RDtRQUNBLE1BQU1DLHFCQUFvQlgsU0FBUztZQUNqQyxNQUFNRCxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4QixnR0FDQTtnQkFBQ0s7YUFBVTtZQUViLE9BQU9ELE9BQU9VLElBQUk7UUFDcEI7SUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy9wbGFubmluZy50cz81ODNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUGxhbm5pbmdQb3J0IH0gZnJvbSBcIkBlbm51c3RlL2FwcGxpY2F0aW9uXCI7XG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gXCIuL2RiXCI7XG5cbmV4cG9ydCBjb25zdCBwbGFubmluZ1JlcG9zaXRvcnkgPSAoKTogUGxhbm5pbmdQb3J0ID0+ICh7XG4gIGFzeW5jIGNyZWF0ZVBsYW5uaW5nRXZlbnQoaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeTx7IHBsYW5uaW5nX2V2ZW50X2lkOiBzdHJpbmcgfT4oXG4gICAgICBgXG4gICAgICAgIElOU0VSVCBJTlRPIHBsYW5uaW5nX2V2ZW50cyAoXG4gICAgICAgICAgcHJvamVjdF9pZCxcbiAgICAgICAgICB0YXJnZXRfbGl0dGVyYV9pZCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgICBvYnNlcnZhdGlvbnMsXG4gICAgICAgICAgcmlza3MsXG4gICAgICAgICAgZGVjaXNpb25zLFxuICAgICAgICAgIGNyZWF0ZWRfYnlcbiAgICAgICAgKSBWQUxVRVMgKCQxOjp1dWlkLCAkMjo6dXVpZCwgJDM6OnBsYW5fc3RhdHVzLCAkNCwgJDUsICQ2LCAkNywgJDgpXG4gICAgICAgIFJFVFVSTklORyBwbGFubmluZ19ldmVudF9pZFxuICAgICAgYCxcbiAgICAgIFtcbiAgICAgICAgaW5wdXQucHJvamVjdElkLFxuICAgICAgICBpbnB1dC50YXJnZXRMaXR0ZXJhSWQsXG4gICAgICAgIGlucHV0LnN0YXR1cyxcbiAgICAgICAgaW5wdXQuc3VtbWFyeSA/PyBudWxsLFxuICAgICAgICBpbnB1dC5vYnNlcnZhdGlvbnMgPz8gbnVsbCxcbiAgICAgICAgaW5wdXQucmlza3MgPz8gbnVsbCxcbiAgICAgICAgaW5wdXQuZGVjaXNpb25zID8/IG51bGwsXG4gICAgICAgIGlucHV0LmNyZWF0ZWRCeVxuICAgICAgXVxuICAgICk7XG5cbiAgICByZXR1cm4geyBwbGFubmluZ0V2ZW50SWQ6IHJlc3VsdC5yb3dzWzBdLnBsYW5uaW5nX2V2ZW50X2lkIH07XG4gIH0sXG4gIGFzeW5jIGxpc3RQbGFubmluZ0N1cnJlbnQocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICBcIlNFTEVDVCAqIEZST00gdl9yZXBvcnRfcGxhbm5pbmdfY3VycmVudCBXSEVSRSBwcm9qZWN0X2lkID0gJDE6OnV1aWQgT1JERVIgQlkgZXZlbnRfdGltZSBERVNDXCIsXG4gICAgICBbcHJvamVjdElkXVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJxdWVyeSIsInBsYW5uaW5nUmVwb3NpdG9yeSIsImNyZWF0ZVBsYW5uaW5nRXZlbnQiLCJpbnB1dCIsInJlc3VsdCIsInByb2plY3RJZCIsInRhcmdldExpdHRlcmFJZCIsInN0YXR1cyIsInN1bW1hcnkiLCJvYnNlcnZhdGlvbnMiLCJyaXNrcyIsImRlY2lzaW9ucyIsImNyZWF0ZWRCeSIsInBsYW5uaW5nRXZlbnRJZCIsInJvd3MiLCJwbGFubmluZ19ldmVudF9pZCIsImxpc3RQbGFubmluZ0N1cnJlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/planning.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/rbac.ts":
/*!*************************************************!*\
  !*** ../../packages/infrastructure/src/rbac.ts ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   rbacRepository: () => (/* binding */ rbacRepository)\n/* harmony export */ });\n/* harmony import */ var _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ennuste/shared */ \"(rsc)/../../packages/shared/src/index.ts\");\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_1__]);\n_db__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst rbacRepository = ()=>({\n        async requirePermission (projectId, username, permission) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT rbac_user_has_permission($1::uuid, $2::text, $3::text) AS allowed\", [\n                projectId,\n                username,\n                permission\n            ]);\n            if (!result.rows[0]?.allowed) {\n                throw new _ennuste_shared__WEBPACK_IMPORTED_MODULE_0__.ForbiddenError(\"Ei oikeuksia\");\n            }\n        },\n        async listPermissions (projectId, username) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_1__.query)(\"SELECT permission_code FROM v_rbac_user_project_permissions WHERE project_id = $1::uuid AND username = $2::text\", [\n                projectId,\n                username\n            ]);\n            return result.rows.map((row)=>row.permission_code);\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL3JiYWMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRWlEO0FBQ3BCO0FBRXRCLE1BQU1FLGlCQUFpQixJQUFpQjtRQUM3QyxNQUFNQyxtQkFBa0JDLFNBQVMsRUFBRUMsUUFBUSxFQUFFQyxVQUFVO1lBQ3JELE1BQU1DLFNBQVMsTUFBTU4sMENBQUtBLENBQ3hCLDRFQUNBO2dCQUFDRztnQkFBV0M7Z0JBQVVDO2FBQVc7WUFHbkMsSUFBSSxDQUFDQyxPQUFPQyxJQUFJLENBQUMsRUFBRSxFQUFFQyxTQUFTO2dCQUM1QixNQUFNLElBQUlULDJEQUFjQSxDQUFDO1lBQzNCO1FBQ0Y7UUFDQSxNQUFNVSxpQkFBZ0JOLFNBQVMsRUFBRUMsUUFBUTtZQUN2QyxNQUFNRSxTQUFTLE1BQU1OLDBDQUFLQSxDQUN4QixtSEFDQTtnQkFBQ0c7Z0JBQVdDO2FBQVM7WUFHdkIsT0FBT0UsT0FBT0MsSUFBSSxDQUFDRyxHQUFHLENBQUMsQ0FBQ0MsTUFBUUEsSUFBSUMsZUFBZTtRQUNyRDtJQUNGLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZW5udXN0ZS93ZWIvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL3JiYWMudHM/ZTBhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBlcm1pc3Npb25Db2RlIH0gZnJvbSBcIkBlbm51c3RlL3NoYXJlZFwiO1xuaW1wb3J0IHR5cGUgeyBSYmFjUG9ydCB9IGZyb20gXCJAZW5udXN0ZS9hcHBsaWNhdGlvblwiO1xuaW1wb3J0IHsgRm9yYmlkZGVuRXJyb3IgfSBmcm9tIFwiQGVubnVzdGUvc2hhcmVkXCI7XG5pbXBvcnQgeyBxdWVyeSB9IGZyb20gXCIuL2RiXCI7XG5cbmV4cG9ydCBjb25zdCByYmFjUmVwb3NpdG9yeSA9ICgpOiBSYmFjUG9ydCA9PiAoe1xuICBhc3luYyByZXF1aXJlUGVybWlzc2lvbihwcm9qZWN0SWQsIHVzZXJuYW1lLCBwZXJtaXNzaW9uKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnk8eyBhbGxvd2VkOiBib29sZWFuIH0+KFxuICAgICAgXCJTRUxFQ1QgcmJhY191c2VyX2hhc19wZXJtaXNzaW9uKCQxOjp1dWlkLCAkMjo6dGV4dCwgJDM6OnRleHQpIEFTIGFsbG93ZWRcIixcbiAgICAgIFtwcm9qZWN0SWQsIHVzZXJuYW1lLCBwZXJtaXNzaW9uXVxuICAgICk7XG5cbiAgICBpZiAoIXJlc3VsdC5yb3dzWzBdPy5hbGxvd2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRm9yYmlkZGVuRXJyb3IoXCJFaSBvaWtldWtzaWFcIik7XG4gICAgfVxuICB9LFxuICBhc3luYyBsaXN0UGVybWlzc2lvbnMocHJvamVjdElkLCB1c2VybmFtZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgcGVybWlzc2lvbl9jb2RlOiBQZXJtaXNzaW9uQ29kZSB9PihcbiAgICAgIFwiU0VMRUNUIHBlcm1pc3Npb25fY29kZSBGUk9NIHZfcmJhY191c2VyX3Byb2plY3RfcGVybWlzc2lvbnMgV0hFUkUgcHJvamVjdF9pZCA9ICQxOjp1dWlkIEFORCB1c2VybmFtZSA9ICQyOjp0ZXh0XCIsXG4gICAgICBbcHJvamVjdElkLCB1c2VybmFtZV1cbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzLm1hcCgocm93KSA9PiByb3cucGVybWlzc2lvbl9jb2RlKTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOlsiRm9yYmlkZGVuRXJyb3IiLCJxdWVyeSIsInJiYWNSZXBvc2l0b3J5IiwicmVxdWlyZVBlcm1pc3Npb24iLCJwcm9qZWN0SWQiLCJ1c2VybmFtZSIsInBlcm1pc3Npb24iLCJyZXN1bHQiLCJyb3dzIiwiYWxsb3dlZCIsImxpc3RQZXJtaXNzaW9ucyIsIm1hcCIsInJvdyIsInBlcm1pc3Npb25fY29kZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/rbac.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/report.ts":
/*!***************************************************!*\
  !*** ../../packages/infrastructure/src/report.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reportRepository: () => (/* binding */ reportRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst reportRepository = ()=>({\n        async getDashboard (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM v_report_project_current WHERE project_id = $1::uuid\", [\n                projectId\n            ]);\n            return result.rows[0] ?? null;\n        },\n        async getWorkPhaseReport (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM v_report_work_phase_current WHERE project_id = $1::uuid ORDER BY work_phase_name\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async getForecastReport (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM v_report_forecast_current WHERE project_id = $1::uuid ORDER BY event_time DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async getPlanningReport (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM v_report_planning_current WHERE project_id = $1::uuid ORDER BY event_time DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async getTargetEstimate (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT bl.target_littera_id, l.code AS littera_code, l.title AS littera_title, bl.cost_type, bl.amount, bl.valid_from, bl.valid_to FROM budget_lines bl JOIN litteras l ON l.project_id = bl.project_id AND l.littera_id = bl.target_littera_id WHERE bl.project_id = $1::uuid ORDER BY l.code, bl.cost_type, bl.valid_from DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async getMappingLines (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT ml.mapping_line_id, mv.status AS mapping_status, wl.code AS work_code, wl.title AS work_title, tl.code AS target_code, tl.title AS target_title, ml.allocation_rule, ml.allocation_value, ml.cost_type FROM mapping_lines ml JOIN mapping_versions mv ON mv.mapping_version_id = ml.mapping_version_id JOIN litteras wl ON wl.project_id = ml.project_id AND wl.littera_id = ml.work_littera_id JOIN litteras tl ON tl.project_id = ml.project_id AND tl.littera_id = ml.target_littera_id WHERE ml.project_id = $1::uuid ORDER BY mv.status, tl.code, wl.code\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async getAuditLog (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT * FROM app_audit_log WHERE project_id = $1::uuid ORDER BY event_time DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL3JlcG9ydC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUM2QjtBQUV0QixNQUFNQyxtQkFBbUIsSUFBbUI7UUFDakQsTUFBTUMsY0FBYUMsU0FBUztZQUMxQixNQUFNQyxTQUFTLE1BQU1KLDBDQUFLQSxDQUFDLHNFQUFzRTtnQkFBQ0c7YUFBVTtZQUM1RyxPQUFPQyxPQUFPQyxJQUFJLENBQUMsRUFBRSxJQUFJO1FBQzNCO1FBQ0EsTUFBTUMsb0JBQW1CSCxTQUFTO1lBQ2hDLE1BQU1DLFNBQVMsTUFBTUosMENBQUtBLENBQ3hCLGtHQUNBO2dCQUFDRzthQUFVO1lBRWIsT0FBT0MsT0FBT0MsSUFBSTtRQUNwQjtRQUNBLE1BQU1FLG1CQUFrQkosU0FBUztZQUMvQixNQUFNQyxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4QixnR0FDQTtnQkFBQ0c7YUFBVTtZQUViLE9BQU9DLE9BQU9DLElBQUk7UUFDcEI7UUFDQSxNQUFNRyxtQkFBa0JMLFNBQVM7WUFDL0IsTUFBTUMsU0FBUyxNQUFNSiwwQ0FBS0EsQ0FDeEIsZ0dBQ0E7Z0JBQUNHO2FBQVU7WUFFYixPQUFPQyxPQUFPQyxJQUFJO1FBQ3BCO1FBQ0EsTUFBTUksbUJBQWtCTixTQUFTO1lBQy9CLE1BQU1DLFNBQVMsTUFBTUosMENBQUtBLENBQ3hCLG9VQUNBO2dCQUFDRzthQUFVO1lBRWIsT0FBT0MsT0FBT0MsSUFBSTtRQUNwQjtRQUNBLE1BQU1LLGlCQUFnQlAsU0FBUztZQUM3QixNQUFNQyxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4Qix5aUJBQ0E7Z0JBQUNHO2FBQVU7WUFFYixPQUFPQyxPQUFPQyxJQUFJO1FBQ3BCO1FBQ0EsTUFBTU0sYUFBWVIsU0FBUztZQUN6QixNQUFNQyxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4QixvRkFDQTtnQkFBQ0c7YUFBVTtZQUViLE9BQU9DLE9BQU9DLElBQUk7UUFDcEI7SUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy9yZXBvcnQudHM/NzhlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFJlcG9ydFBvcnQgfSBmcm9tIFwiQGVubnVzdGUvYXBwbGljYXRpb25cIjtcbmltcG9ydCB7IHF1ZXJ5IH0gZnJvbSBcIi4vZGJcIjtcblxuZXhwb3J0IGNvbnN0IHJlcG9ydFJlcG9zaXRvcnkgPSAoKTogUmVwb3J0UG9ydCA9PiAoe1xuICBhc3luYyBnZXREYXNoYm9hcmQocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXCJTRUxFQ1QgKiBGUk9NIHZfcmVwb3J0X3Byb2plY3RfY3VycmVudCBXSEVSRSBwcm9qZWN0X2lkID0gJDE6OnV1aWRcIiwgW3Byb2plY3RJZF0pO1xuICAgIHJldHVybiByZXN1bHQucm93c1swXSA/PyBudWxsO1xuICB9LFxuICBhc3luYyBnZXRXb3JrUGhhc2VSZXBvcnQocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICBcIlNFTEVDVCAqIEZST00gdl9yZXBvcnRfd29ya19waGFzZV9jdXJyZW50IFdIRVJFIHByb2plY3RfaWQgPSAkMTo6dXVpZCBPUkRFUiBCWSB3b3JrX3BoYXNlX25hbWVcIixcbiAgICAgIFtwcm9qZWN0SWRdXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnJvd3M7XG4gIH0sXG4gIGFzeW5jIGdldEZvcmVjYXN0UmVwb3J0KHByb2plY3RJZCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxuICAgICAgXCJTRUxFQ1QgKiBGUk9NIHZfcmVwb3J0X2ZvcmVjYXN0X2N1cnJlbnQgV0hFUkUgcHJvamVjdF9pZCA9ICQxOjp1dWlkIE9SREVSIEJZIGV2ZW50X3RpbWUgREVTQ1wiLFxuICAgICAgW3Byb2plY3RJZF1cbiAgICApO1xuICAgIHJldHVybiByZXN1bHQucm93cztcbiAgfSxcbiAgYXN5bmMgZ2V0UGxhbm5pbmdSZXBvcnQocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICBcIlNFTEVDVCAqIEZST00gdl9yZXBvcnRfcGxhbm5pbmdfY3VycmVudCBXSEVSRSBwcm9qZWN0X2lkID0gJDE6OnV1aWQgT1JERVIgQlkgZXZlbnRfdGltZSBERVNDXCIsXG4gICAgICBbcHJvamVjdElkXVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICB9LFxuICBhc3luYyBnZXRUYXJnZXRFc3RpbWF0ZShwcm9qZWN0SWQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgIFwiU0VMRUNUIGJsLnRhcmdldF9saXR0ZXJhX2lkLCBsLmNvZGUgQVMgbGl0dGVyYV9jb2RlLCBsLnRpdGxlIEFTIGxpdHRlcmFfdGl0bGUsIGJsLmNvc3RfdHlwZSwgYmwuYW1vdW50LCBibC52YWxpZF9mcm9tLCBibC52YWxpZF90byBGUk9NIGJ1ZGdldF9saW5lcyBibCBKT0lOIGxpdHRlcmFzIGwgT04gbC5wcm9qZWN0X2lkID0gYmwucHJvamVjdF9pZCBBTkQgbC5saXR0ZXJhX2lkID0gYmwudGFyZ2V0X2xpdHRlcmFfaWQgV0hFUkUgYmwucHJvamVjdF9pZCA9ICQxOjp1dWlkIE9SREVSIEJZIGwuY29kZSwgYmwuY29zdF90eXBlLCBibC52YWxpZF9mcm9tIERFU0NcIixcbiAgICAgIFtwcm9qZWN0SWRdXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnJvd3M7XG4gIH0sXG4gIGFzeW5jIGdldE1hcHBpbmdMaW5lcyhwcm9qZWN0SWQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgIFwiU0VMRUNUIG1sLm1hcHBpbmdfbGluZV9pZCwgbXYuc3RhdHVzIEFTIG1hcHBpbmdfc3RhdHVzLCB3bC5jb2RlIEFTIHdvcmtfY29kZSwgd2wudGl0bGUgQVMgd29ya190aXRsZSwgdGwuY29kZSBBUyB0YXJnZXRfY29kZSwgdGwudGl0bGUgQVMgdGFyZ2V0X3RpdGxlLCBtbC5hbGxvY2F0aW9uX3J1bGUsIG1sLmFsbG9jYXRpb25fdmFsdWUsIG1sLmNvc3RfdHlwZSBGUk9NIG1hcHBpbmdfbGluZXMgbWwgSk9JTiBtYXBwaW5nX3ZlcnNpb25zIG12IE9OIG12Lm1hcHBpbmdfdmVyc2lvbl9pZCA9IG1sLm1hcHBpbmdfdmVyc2lvbl9pZCBKT0lOIGxpdHRlcmFzIHdsIE9OIHdsLnByb2plY3RfaWQgPSBtbC5wcm9qZWN0X2lkIEFORCB3bC5saXR0ZXJhX2lkID0gbWwud29ya19saXR0ZXJhX2lkIEpPSU4gbGl0dGVyYXMgdGwgT04gdGwucHJvamVjdF9pZCA9IG1sLnByb2plY3RfaWQgQU5EIHRsLmxpdHRlcmFfaWQgPSBtbC50YXJnZXRfbGl0dGVyYV9pZCBXSEVSRSBtbC5wcm9qZWN0X2lkID0gJDE6OnV1aWQgT1JERVIgQlkgbXYuc3RhdHVzLCB0bC5jb2RlLCB3bC5jb2RlXCIsXG4gICAgICBbcHJvamVjdElkXVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICB9LFxuICBhc3luYyBnZXRBdWRpdExvZyhwcm9qZWN0SWQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcbiAgICAgIFwiU0VMRUNUICogRlJPTSBhcHBfYXVkaXRfbG9nIFdIRVJFIHByb2plY3RfaWQgPSAkMTo6dXVpZCBPUkRFUiBCWSBldmVudF90aW1lIERFU0NcIixcbiAgICAgIFtwcm9qZWN0SWRdXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0LnJvd3M7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbInF1ZXJ5IiwicmVwb3J0UmVwb3NpdG9yeSIsImdldERhc2hib2FyZCIsInByb2plY3RJZCIsInJlc3VsdCIsInJvd3MiLCJnZXRXb3JrUGhhc2VSZXBvcnQiLCJnZXRGb3JlY2FzdFJlcG9ydCIsImdldFBsYW5uaW5nUmVwb3J0IiwiZ2V0VGFyZ2V0RXN0aW1hdGUiLCJnZXRNYXBwaW5nTGluZXMiLCJnZXRBdWRpdExvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/report.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/infrastructure/src/workPhases.ts":
/*!*******************************************************!*\
  !*** ../../packages/infrastructure/src/workPhases.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   workPhaseRepository: () => (/* binding */ workPhaseRepository)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/../../packages/infrastructure/src/db.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_db__WEBPACK_IMPORTED_MODULE_0__]);\n_db__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst workPhaseRepository = ()=>({\n        async listWorkPhases (projectId) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT work_phase_id, name, status, created_at FROM work_phases WHERE project_id = $1::uuid ORDER BY created_at DESC\", [\n                projectId\n            ]);\n            return result.rows;\n        },\n        async createWeeklyUpdate (input) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"INSERT INTO work_phase_weekly_updates (project_id, work_phase_id, week_ending, percent_complete, progress_notes, risks, created_by) VALUES ($1::uuid, $2::uuid, $3::date, $4, $5, $6, $7) RETURNING work_phase_weekly_update_id\", [\n                input.projectId,\n                input.workPhaseId,\n                input.weekEnding,\n                input.percentComplete,\n                input.progressNotes ?? null,\n                input.risks ?? null,\n                input.createdBy\n            ]);\n            return {\n                workPhaseWeeklyUpdateId: result.rows[0].work_phase_weekly_update_id\n            };\n        },\n        async createGhostEntry (input) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"INSERT INTO ghost_cost_entries (project_id, work_phase_id, week_ending, cost_type, amount, description, created_by) VALUES ($1::uuid, $2::uuid, $3::date, $4, $5, $6, $7) RETURNING ghost_cost_entry_id\", [\n                input.projectId,\n                input.workPhaseId,\n                input.weekEnding,\n                input.costType,\n                input.amount,\n                input.description ?? null,\n                input.createdBy\n            ]);\n            return {\n                ghostCostEntryId: result.rows[0].ghost_cost_entry_id\n            };\n        },\n        async lockBaseline (input) {\n            const result = await _db__WEBPACK_IMPORTED_MODULE_0__.pool.query(\"SELECT work_phase_lock_baseline_secure($1::uuid, $2::uuid, $3::uuid, $4::text, $5::text) AS work_phase_lock_baseline_secure\", [\n                input.workPhaseId,\n                input.workPhaseVersionId,\n                input.targetImportBatchId,\n                input.username,\n                input.notes ?? null\n            ]);\n            return {\n                workPhaseBaselineId: result.rows[0].work_phase_lock_baseline_secure\n            };\n        },\n        async proposeCorrection (input) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT work_phase_propose_add_littera_from_item_secure($1::uuid, $2::text, $3::text, $4::text) AS work_phase_propose_add_littera_from_item_secure\", [\n                input.workPhaseId,\n                input.itemCode,\n                input.username,\n                input.notes ?? null\n            ]);\n            return {\n                correctionId: result.rows[0].work_phase_propose_add_littera_from_item_secure\n            };\n        },\n        async approveCorrectionPm (input) {\n            await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT work_phase_approve_correction_pm_secure($1::uuid, $2::text, $3::text)\", [\n                input.correctionId,\n                input.username,\n                input.comment ?? null\n            ]);\n        },\n        async approveCorrectionFinal (input) {\n            const result = await (0,_db__WEBPACK_IMPORTED_MODULE_0__.query)(\"SELECT work_phase_approve_correction_final_secure($1::uuid, $2::text, $3::text) AS work_phase_approve_correction_final_secure\", [\n                input.correctionId,\n                input.username,\n                input.comment ?? null\n            ]);\n            return {\n                baselineId: result.rows[0].work_phase_approve_correction_final_secure\n            };\n        }\n    });\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvaW5mcmFzdHJ1Y3R1cmUvc3JjL3dvcmtQaGFzZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDbUM7QUFFNUIsTUFBTUUsc0JBQXNCLElBQXNCO1FBQ3ZELE1BQU1DLGdCQUFlQyxTQUFTO1lBQzVCLE1BQU1DLFNBQVMsTUFBTUosMENBQUtBLENBQ3hCLHdIQUNBO2dCQUFDRzthQUFVO1lBRWIsT0FBT0MsT0FBT0MsSUFBSTtRQUNwQjtRQUNBLE1BQU1DLG9CQUFtQkMsS0FBSztZQUM1QixNQUFNSCxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4QixtT0FDQTtnQkFDRU8sTUFBTUosU0FBUztnQkFDZkksTUFBTUMsV0FBVztnQkFDakJELE1BQU1FLFVBQVU7Z0JBQ2hCRixNQUFNRyxlQUFlO2dCQUNyQkgsTUFBTUksYUFBYSxJQUFJO2dCQUN2QkosTUFBTUssS0FBSyxJQUFJO2dCQUNmTCxNQUFNTSxTQUFTO2FBQ2hCO1lBRUgsT0FBTztnQkFBRUMseUJBQXlCVixPQUFPQyxJQUFJLENBQUMsRUFBRSxDQUFDVSwyQkFBMkI7WUFBQztRQUMvRTtRQUNBLE1BQU1DLGtCQUFpQlQsS0FBSztZQUMxQixNQUFNSCxTQUFTLE1BQU1KLDBDQUFLQSxDQUN4QiwyTUFDQTtnQkFDRU8sTUFBTUosU0FBUztnQkFDZkksTUFBTUMsV0FBVztnQkFDakJELE1BQU1FLFVBQVU7Z0JBQ2hCRixNQUFNVSxRQUFRO2dCQUNkVixNQUFNVyxNQUFNO2dCQUNaWCxNQUFNWSxXQUFXLElBQUk7Z0JBQ3JCWixNQUFNTSxTQUFTO2FBQ2hCO1lBRUgsT0FBTztnQkFBRU8sa0JBQWtCaEIsT0FBT0MsSUFBSSxDQUFDLEVBQUUsQ0FBQ2dCLG1CQUFtQjtZQUFDO1FBQ2hFO1FBQ0EsTUFBTUMsY0FBYWYsS0FBSztZQUN0QixNQUFNSCxTQUFTLE1BQU1MLHFDQUFJQSxDQUFDQyxLQUFLLENBQzdCLCtIQUNBO2dCQUNFTyxNQUFNQyxXQUFXO2dCQUNqQkQsTUFBTWdCLGtCQUFrQjtnQkFDeEJoQixNQUFNaUIsbUJBQW1CO2dCQUN6QmpCLE1BQU1rQixRQUFRO2dCQUNkbEIsTUFBTW1CLEtBQUssSUFBSTthQUNoQjtZQUVILE9BQU87Z0JBQUVDLHFCQUFxQnZCLE9BQU9DLElBQUksQ0FBQyxFQUFFLENBQUN1QiwrQkFBK0I7WUFBQztRQUMvRTtRQUNBLE1BQU1DLG1CQUFrQnRCLEtBQUs7WUFDM0IsTUFBTUgsU0FBUyxNQUFNSiwwQ0FBS0EsQ0FDeEIscUpBQ0E7Z0JBQUNPLE1BQU1DLFdBQVc7Z0JBQUVELE1BQU11QixRQUFRO2dCQUFFdkIsTUFBTWtCLFFBQVE7Z0JBQUVsQixNQUFNbUIsS0FBSyxJQUFJO2FBQUs7WUFFMUUsT0FBTztnQkFBRUssY0FBYzNCLE9BQU9DLElBQUksQ0FBQyxFQUFFLENBQUMyQiwrQ0FBK0M7WUFBQztRQUN4RjtRQUNBLE1BQU1DLHFCQUFvQjFCLEtBQUs7WUFDN0IsTUFBTVAsMENBQUtBLENBQ1QsZ0ZBQ0E7Z0JBQUNPLE1BQU13QixZQUFZO2dCQUFFeEIsTUFBTWtCLFFBQVE7Z0JBQUVsQixNQUFNMkIsT0FBTyxJQUFJO2FBQUs7UUFFL0Q7UUFDQSxNQUFNQyx3QkFBdUI1QixLQUFLO1lBQ2hDLE1BQU1ILFNBQVMsTUFBTUosMENBQUtBLENBQ3hCLGlJQUNBO2dCQUFDTyxNQUFNd0IsWUFBWTtnQkFBRXhCLE1BQU1rQixRQUFRO2dCQUFFbEIsTUFBTTJCLE9BQU8sSUFBSTthQUFLO1lBRTdELE9BQU87Z0JBQUVFLFlBQVloQyxPQUFPQyxJQUFJLENBQUMsRUFBRSxDQUFDZ0MsMENBQTBDO1lBQUM7UUFDakY7SUFDRixHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL2luZnJhc3RydWN0dXJlL3NyYy93b3JrUGhhc2VzLnRzP2E0NzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBXb3JrUGhhc2VQb3J0IH0gZnJvbSBcIkBlbm51c3RlL2FwcGxpY2F0aW9uXCI7XG5pbXBvcnQgeyBwb29sLCBxdWVyeSB9IGZyb20gXCIuL2RiXCI7XG5cbmV4cG9ydCBjb25zdCB3b3JrUGhhc2VSZXBvc2l0b3J5ID0gKCk6IFdvcmtQaGFzZVBvcnQgPT4gKHtcbiAgYXN5bmMgbGlzdFdvcmtQaGFzZXMocHJvamVjdElkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXG4gICAgICBcIlNFTEVDVCB3b3JrX3BoYXNlX2lkLCBuYW1lLCBzdGF0dXMsIGNyZWF0ZWRfYXQgRlJPTSB3b3JrX3BoYXNlcyBXSEVSRSBwcm9qZWN0X2lkID0gJDE6OnV1aWQgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDXCIsXG4gICAgICBbcHJvamVjdElkXVxuICAgICk7XG4gICAgcmV0dXJuIHJlc3VsdC5yb3dzO1xuICB9LFxuICBhc3luYyBjcmVhdGVXZWVrbHlVcGRhdGUoaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeTx7IHdvcmtfcGhhc2Vfd2Vla2x5X3VwZGF0ZV9pZDogc3RyaW5nIH0+KFxuICAgICAgXCJJTlNFUlQgSU5UTyB3b3JrX3BoYXNlX3dlZWtseV91cGRhdGVzIChwcm9qZWN0X2lkLCB3b3JrX3BoYXNlX2lkLCB3ZWVrX2VuZGluZywgcGVyY2VudF9jb21wbGV0ZSwgcHJvZ3Jlc3Nfbm90ZXMsIHJpc2tzLCBjcmVhdGVkX2J5KSBWQUxVRVMgKCQxOjp1dWlkLCAkMjo6dXVpZCwgJDM6OmRhdGUsICQ0LCAkNSwgJDYsICQ3KSBSRVRVUk5JTkcgd29ya19waGFzZV93ZWVrbHlfdXBkYXRlX2lkXCIsXG4gICAgICBbXG4gICAgICAgIGlucHV0LnByb2plY3RJZCxcbiAgICAgICAgaW5wdXQud29ya1BoYXNlSWQsXG4gICAgICAgIGlucHV0LndlZWtFbmRpbmcsXG4gICAgICAgIGlucHV0LnBlcmNlbnRDb21wbGV0ZSxcbiAgICAgICAgaW5wdXQucHJvZ3Jlc3NOb3RlcyA/PyBudWxsLFxuICAgICAgICBpbnB1dC5yaXNrcyA/PyBudWxsLFxuICAgICAgICBpbnB1dC5jcmVhdGVkQnlcbiAgICAgIF1cbiAgICApO1xuICAgIHJldHVybiB7IHdvcmtQaGFzZVdlZWtseVVwZGF0ZUlkOiByZXN1bHQucm93c1swXS53b3JrX3BoYXNlX3dlZWtseV91cGRhdGVfaWQgfTtcbiAgfSxcbiAgYXN5bmMgY3JlYXRlR2hvc3RFbnRyeShpbnB1dCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgZ2hvc3RfY29zdF9lbnRyeV9pZDogc3RyaW5nIH0+KFxuICAgICAgXCJJTlNFUlQgSU5UTyBnaG9zdF9jb3N0X2VudHJpZXMgKHByb2plY3RfaWQsIHdvcmtfcGhhc2VfaWQsIHdlZWtfZW5kaW5nLCBjb3N0X3R5cGUsIGFtb3VudCwgZGVzY3JpcHRpb24sIGNyZWF0ZWRfYnkpIFZBTFVFUyAoJDE6OnV1aWQsICQyOjp1dWlkLCAkMzo6ZGF0ZSwgJDQsICQ1LCAkNiwgJDcpIFJFVFVSTklORyBnaG9zdF9jb3N0X2VudHJ5X2lkXCIsXG4gICAgICBbXG4gICAgICAgIGlucHV0LnByb2plY3RJZCxcbiAgICAgICAgaW5wdXQud29ya1BoYXNlSWQsXG4gICAgICAgIGlucHV0LndlZWtFbmRpbmcsXG4gICAgICAgIGlucHV0LmNvc3RUeXBlLFxuICAgICAgICBpbnB1dC5hbW91bnQsXG4gICAgICAgIGlucHV0LmRlc2NyaXB0aW9uID8/IG51bGwsXG4gICAgICAgIGlucHV0LmNyZWF0ZWRCeVxuICAgICAgXVxuICAgICk7XG4gICAgcmV0dXJuIHsgZ2hvc3RDb3N0RW50cnlJZDogcmVzdWx0LnJvd3NbMF0uZ2hvc3RfY29zdF9lbnRyeV9pZCB9O1xuICB9LFxuICBhc3luYyBsb2NrQmFzZWxpbmUoaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5PHsgd29ya19waGFzZV9sb2NrX2Jhc2VsaW5lX3NlY3VyZTogc3RyaW5nIH0+KFxuICAgICAgXCJTRUxFQ1Qgd29ya19waGFzZV9sb2NrX2Jhc2VsaW5lX3NlY3VyZSgkMTo6dXVpZCwgJDI6OnV1aWQsICQzOjp1dWlkLCAkNDo6dGV4dCwgJDU6OnRleHQpIEFTIHdvcmtfcGhhc2VfbG9ja19iYXNlbGluZV9zZWN1cmVcIixcbiAgICAgIFtcbiAgICAgICAgaW5wdXQud29ya1BoYXNlSWQsXG4gICAgICAgIGlucHV0LndvcmtQaGFzZVZlcnNpb25JZCxcbiAgICAgICAgaW5wdXQudGFyZ2V0SW1wb3J0QmF0Y2hJZCxcbiAgICAgICAgaW5wdXQudXNlcm5hbWUsXG4gICAgICAgIGlucHV0Lm5vdGVzID8/IG51bGxcbiAgICAgIF1cbiAgICApO1xuICAgIHJldHVybiB7IHdvcmtQaGFzZUJhc2VsaW5lSWQ6IHJlc3VsdC5yb3dzWzBdLndvcmtfcGhhc2VfbG9ja19iYXNlbGluZV9zZWN1cmUgfTtcbiAgfSxcbiAgYXN5bmMgcHJvcG9zZUNvcnJlY3Rpb24oaW5wdXQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeTx7IHdvcmtfcGhhc2VfcHJvcG9zZV9hZGRfbGl0dGVyYV9mcm9tX2l0ZW1fc2VjdXJlOiBzdHJpbmcgfT4oXG4gICAgICBcIlNFTEVDVCB3b3JrX3BoYXNlX3Byb3Bvc2VfYWRkX2xpdHRlcmFfZnJvbV9pdGVtX3NlY3VyZSgkMTo6dXVpZCwgJDI6OnRleHQsICQzOjp0ZXh0LCAkNDo6dGV4dCkgQVMgd29ya19waGFzZV9wcm9wb3NlX2FkZF9saXR0ZXJhX2Zyb21faXRlbV9zZWN1cmVcIixcbiAgICAgIFtpbnB1dC53b3JrUGhhc2VJZCwgaW5wdXQuaXRlbUNvZGUsIGlucHV0LnVzZXJuYW1lLCBpbnB1dC5ub3RlcyA/PyBudWxsXVxuICAgICk7XG4gICAgcmV0dXJuIHsgY29ycmVjdGlvbklkOiByZXN1bHQucm93c1swXS53b3JrX3BoYXNlX3Byb3Bvc2VfYWRkX2xpdHRlcmFfZnJvbV9pdGVtX3NlY3VyZSB9O1xuICB9LFxuICBhc3luYyBhcHByb3ZlQ29ycmVjdGlvblBtKGlucHV0KSB7XG4gICAgYXdhaXQgcXVlcnkoXG4gICAgICBcIlNFTEVDVCB3b3JrX3BoYXNlX2FwcHJvdmVfY29ycmVjdGlvbl9wbV9zZWN1cmUoJDE6OnV1aWQsICQyOjp0ZXh0LCAkMzo6dGV4dClcIixcbiAgICAgIFtpbnB1dC5jb3JyZWN0aW9uSWQsIGlucHV0LnVzZXJuYW1lLCBpbnB1dC5jb21tZW50ID8/IG51bGxdXG4gICAgKTtcbiAgfSxcbiAgYXN5bmMgYXBwcm92ZUNvcnJlY3Rpb25GaW5hbChpbnB1dCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5PHsgd29ya19waGFzZV9hcHByb3ZlX2NvcnJlY3Rpb25fZmluYWxfc2VjdXJlOiBzdHJpbmcgfT4oXG4gICAgICBcIlNFTEVDVCB3b3JrX3BoYXNlX2FwcHJvdmVfY29ycmVjdGlvbl9maW5hbF9zZWN1cmUoJDE6OnV1aWQsICQyOjp0ZXh0LCAkMzo6dGV4dCkgQVMgd29ya19waGFzZV9hcHByb3ZlX2NvcnJlY3Rpb25fZmluYWxfc2VjdXJlXCIsXG4gICAgICBbaW5wdXQuY29ycmVjdGlvbklkLCBpbnB1dC51c2VybmFtZSwgaW5wdXQuY29tbWVudCA/PyBudWxsXVxuICAgICk7XG4gICAgcmV0dXJuIHsgYmFzZWxpbmVJZDogcmVzdWx0LnJvd3NbMF0ud29ya19waGFzZV9hcHByb3ZlX2NvcnJlY3Rpb25fZmluYWxfc2VjdXJlIH07XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbInBvb2wiLCJxdWVyeSIsIndvcmtQaGFzZVJlcG9zaXRvcnkiLCJsaXN0V29ya1BoYXNlcyIsInByb2plY3RJZCIsInJlc3VsdCIsInJvd3MiLCJjcmVhdGVXZWVrbHlVcGRhdGUiLCJpbnB1dCIsIndvcmtQaGFzZUlkIiwid2Vla0VuZGluZyIsInBlcmNlbnRDb21wbGV0ZSIsInByb2dyZXNzTm90ZXMiLCJyaXNrcyIsImNyZWF0ZWRCeSIsIndvcmtQaGFzZVdlZWtseVVwZGF0ZUlkIiwid29ya19waGFzZV93ZWVrbHlfdXBkYXRlX2lkIiwiY3JlYXRlR2hvc3RFbnRyeSIsImNvc3RUeXBlIiwiYW1vdW50IiwiZGVzY3JpcHRpb24iLCJnaG9zdENvc3RFbnRyeUlkIiwiZ2hvc3RfY29zdF9lbnRyeV9pZCIsImxvY2tCYXNlbGluZSIsIndvcmtQaGFzZVZlcnNpb25JZCIsInRhcmdldEltcG9ydEJhdGNoSWQiLCJ1c2VybmFtZSIsIm5vdGVzIiwid29ya1BoYXNlQmFzZWxpbmVJZCIsIndvcmtfcGhhc2VfbG9ja19iYXNlbGluZV9zZWN1cmUiLCJwcm9wb3NlQ29ycmVjdGlvbiIsIml0ZW1Db2RlIiwiY29ycmVjdGlvbklkIiwid29ya19waGFzZV9wcm9wb3NlX2FkZF9saXR0ZXJhX2Zyb21faXRlbV9zZWN1cmUiLCJhcHByb3ZlQ29ycmVjdGlvblBtIiwiY29tbWVudCIsImFwcHJvdmVDb3JyZWN0aW9uRmluYWwiLCJiYXNlbGluZUlkIiwid29ya19waGFzZV9hcHByb3ZlX2NvcnJlY3Rpb25fZmluYWxfc2VjdXJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/infrastructure/src/workPhases.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/shared/src/errors.ts":
/*!*******************************************!*\
  !*** ../../packages/shared/src/errors.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* binding */ AppError),\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   ForbiddenError: () => (/* binding */ ForbiddenError),\n/* harmony export */   NotFoundError: () => (/* binding */ NotFoundError)\n/* harmony export */ });\nclass AppError extends Error {\n    constructor(message, code = \"APP_ERROR\", status = 400, details){\n        super(message);\n        this.code = code;\n        this.status = status;\n        this.details = details;\n    }\n}\nclass AuthError extends AppError {\n    constructor(message = \"Ei oikeuksia\"){\n        super(message, \"AUTH_ERROR\", 401);\n    }\n}\nclass ForbiddenError extends AppError {\n    constructor(message = \"Ei oikeuksia toimintaan\"){\n        super(message, \"FORBIDDEN\", 403);\n    }\n}\nclass NotFoundError extends AppError {\n    constructor(message = \"Ei loydetty\"){\n        super(message, \"NOT_FOUND\", 404);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9lcnJvcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPLE1BQU1BLGlCQUFpQkM7SUFLNUJDLFlBQVlDLE9BQWUsRUFBRUMsT0FBTyxXQUFXLEVBQUVDLFNBQVMsR0FBRyxFQUFFQyxPQUFpQyxDQUFFO1FBQ2hHLEtBQUssQ0FBQ0g7UUFDTixJQUFJLENBQUNDLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLE9BQU8sR0FBR0E7SUFDakI7QUFDRjtBQUVPLE1BQU1DLGtCQUFrQlA7SUFDN0JFLFlBQVlDLFVBQVUsY0FBYyxDQUFFO1FBQ3BDLEtBQUssQ0FBQ0EsU0FBUyxjQUFjO0lBQy9CO0FBQ0Y7QUFFTyxNQUFNSyx1QkFBdUJSO0lBQ2xDRSxZQUFZQyxVQUFVLHlCQUF5QixDQUFFO1FBQy9DLEtBQUssQ0FBQ0EsU0FBUyxhQUFhO0lBQzlCO0FBQ0Y7QUFFTyxNQUFNTSxzQkFBc0JUO0lBQ2pDRSxZQUFZQyxVQUFVLGFBQWEsQ0FBRTtRQUNuQyxLQUFLLENBQUNBLFNBQVMsYUFBYTtJQUM5QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL3NoYXJlZC9zcmMvZXJyb3JzLnRzPzA5ZjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEFwcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZWFkb25seSBjb2RlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0YXR1czogbnVtYmVyO1xuICByZWFkb25seSBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nLCBjb2RlID0gXCJBUFBfRVJST1JcIiwgc3RhdHVzID0gNDAwLCBkZXRhaWxzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhFcnJvciBleHRlbmRzIEFwcEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSA9IFwiRWkgb2lrZXVrc2lhXCIpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBcIkFVVEhfRVJST1JcIiwgNDAxKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9yYmlkZGVuRXJyb3IgZXh0ZW5kcyBBcHBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UgPSBcIkVpIG9pa2V1a3NpYSB0b2ltaW50YWFuXCIpIHtcbiAgICBzdXBlcihtZXNzYWdlLCBcIkZPUkJJRERFTlwiLCA0MDMpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQXBwRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gXCJFaSBsb3lkZXR0eVwiKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgXCJOT1RfRk9VTkRcIiwgNDA0KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkFwcEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJjb2RlIiwic3RhdHVzIiwiZGV0YWlscyIsIkF1dGhFcnJvciIsIkZvcmJpZGRlbkVycm9yIiwiTm90Rm91bmRFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/errors.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/shared/src/index.ts":
/*!******************************************!*\
  !*** ../../packages/shared/src/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_0__.AppError),\n/* harmony export */   AuthError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_0__.AuthError),\n/* harmony export */   ForbiddenError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_0__.ForbiddenError),\n/* harmony export */   NotFoundError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_0__.NotFoundError)\n/* harmony export */ });\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors */ \"(rsc)/../../packages/shared/src/errors.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"(rsc)/../../packages/shared/src/types.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUI7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL0Blbm51c3RlL3dlYi8uLi8uLi9wYWNrYWdlcy9zaGFyZWQvc3JjL2luZGV4LnRzPzg2NmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi90eXBlc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/shared/src/types.ts":
/*!******************************************!*\
  !*** ../../packages/shared/src/types.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2hhcmVkL3NyYy90eXBlcy50cyIsIm1hcHBpbmdzIjoiO0FBNEJFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGVubnVzdGUvd2ViLy4uLy4uL3BhY2thZ2VzL3NoYXJlZC9zcmMvdHlwZXMudHM/Y2RhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBSb2xlQ29kZSA9XG4gIHwgXCJTSVRFX0ZPUkVNQU5cIlxuICB8IFwiR0VORVJBTF9GT1JFTUFOXCJcbiAgfCBcIlBST0pFQ1RfTUFOQUdFUlwiXG4gIHwgXCJQUk9EVUNUSU9OX01BTkFHRVJcIlxuICB8IFwiUFJPQ1VSRU1FTlRcIlxuICB8IFwiRVhFQ19SRUFET05MWVwiXG4gIHwgXCJPUkdfQURNSU5cIjtcblxuZXhwb3J0IHR5cGUgUGVybWlzc2lvbkNvZGUgPVxuICB8IFwiUkVQT1JUX1JFQURcIlxuICB8IFwiV09SS19QSEFTRV9XRUVLTFlfVVBEQVRFX0NSRUFURVwiXG4gIHwgXCJXT1JLX1BIQVNFX1dFRUtMWV9VUERBVEVfQVBQUk9WRVwiXG4gIHwgXCJHSE9TVF9FTlRSWV9DUkVBVEVcIlxuICB8IFwiQ09SUkVDVElPTl9QUk9QT1NFXCJcbiAgfCBcIkNPUlJFQ1RJT05fQVBQUk9WRV9QTVwiXG4gIHwgXCJDT1JSRUNUSU9OX0FQUFJPVkVfRklOQUxcIlxuICB8IFwiQkFTRUxJTkVfTE9DS1wiXG4gIHwgXCJNRU1CRVJTX01BTkFHRVwiXG4gIHwgXCJURVJNSU5PTE9HWV9NQU5BR0VcIjtcblxuZXhwb3J0IHR5cGUgU2Vzc2lvblVzZXIgPSB7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIG9yZ2FuaXphdGlvbklkOiBzdHJpbmc7XG4gIHByb2plY3RJZDogc3RyaW5nO1xuICBwZXJtaXNzaW9uczogUGVybWlzc2lvbkNvZGVbXTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/shared/src/types.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Flogin%2Fpage&page=%2Flogin%2Fpage&appPaths=%2Flogin%2Fpage&pagePath=private-next-app-dir%2Flogin%2Fpage.tsx&appDir=%2Fapp%2Fapps%2Fweb%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fapp%2Fapps%2Fweb&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();